<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>一盒酥</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://ihozh.com/"/>
  <updated>2017-06-19T09:53:47.000Z</updated>
  <id>http://ihozh.com/</id>
  
  <author>
    <name>一盒酥</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MIT多元微积分二：偏微分 笔记</title>
    <link href="http://ihozh.com/2017/05/24/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/"/>
    <id>http://ihozh.com/2017/05/24/MIT多元微积分二：偏微分-笔记/</id>
    <published>2017-05-24T18:35:50.000Z</published>
    <updated>2017-06-19T09:53:47.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Functions-of-Two-Variables-Tangent-Approximation-and-Optimization"><a href="#1-Functions-of-Two-Variables-Tangent-Approximation-and-Optimization" class="headerlink" title="1. Functions of Two Variables, Tangent Approximation and Optimization"></a>1. Functions of Two Variables, Tangent Approximation and Optimization</h1><h2 id="1-1-Functions-of-Two-Variables-Graphs-二元函数：图"><a href="#1-1-Functions-of-Two-Variables-Graphs-二元函数：图" class="headerlink" title="1.1 Functions of Two Variables: Graphs 二元函数：图"></a>1.1 Functions of Two Variables: Graphs 二元函数：图</h2><p>有没有试着去画一个二元函数的图，比起一元函数来，画二元函数的图简直就是灾难。   </p>
<script type="math/tex; mode=display">f(x,y)</script><p>如何直观的表示一个二元函数的图，一个很好的列子就是等高线图：   </p>
<a id="more"></a>
<h2 id="1-2-Level-Curves-and-Contour-Plots-水平线和等高线图"><a href="#1-2-Level-Curves-and-Contour-Plots-水平线和等高线图" class="headerlink" title="1.2 Level Curves and Contour Plots 水平线和等高线图"></a>1.2 Level Curves and Contour Plots 水平线和等高线图</h2><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E7%AD%89%E9%AB%98%E7%BA%BF.png" alt="等高线图"><br>等高线图就是把一个二元函数压扁在一个平面上，平面上不同的高线实际上是不同坐标的横截面。同一条等高线上所有的值都是一个常数。<br>例：画出这个函数的等高线图：</p>
<script type="math/tex; mode=display">f(x,y)=-y</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E7%AD%89%E9%AB%98%E7%BA%BF%E5%9B%BE2.png" alt=""></p>
<script type="math/tex; mode=display">f(x,y)=1-(x^2+y^2)</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E7%AD%89%E9%AB%98%E7%BA%BF%E5%9B%BE3.png" alt=""><br>同心圆，等高线的间隔越来越小，说明越来越陡。   </p>
<h2 id="1-3-Partial-Derivatives-偏微分"><a href="#1-3-Partial-Derivatives-偏微分" class="headerlink" title="1.3 Partial Derivatives 偏微分"></a>1.3 Partial Derivatives 偏微分</h2><p>根据等高线图，当固定一个变量为定值的时候，可以看出函数随着另一个变量的变化情况。<br>偏导数(Partial) 的定义就是每次只对一个变量求导数。多元函数只有偏导数。   </p>
<script type="math/tex; mode=display">\frac{\partial }{\partial x} f(x_0,y_0)=\lim_{\Delta x\rightarrow 0} \frac{(x_0+\Delta x,y_0)-(x_0,y_0)}{\Delta x}</script><script type="math/tex; mode=display">\frac{\partial }{\partial y} f(x_0,y_0)=\lim_{\Delta y\rightarrow 0} \frac{(x_0,y_0+\Delta y)-(x_0,y_0)}{\Delta y}</script><p>偏微分的几何意义：<br>固定一个变量为常数，用对应的平面切割函数。在平面内截线随另一个变量变化。</p>
<h2 id="1-4-Approximation-Formula-近似公式"><a href="#1-4-Approximation-Formula-近似公式" class="headerlink" title="1.4 Approximation Formula 近似公式"></a>1.4 Approximation Formula 近似公式</h2><p>近似方程是用来表示多变量同时变动时的方程。直观的想法就是x的变化加上y的变化。</p>
<script type="math/tex; mode=display">z=f(x,y)</script><script type="math/tex; mode=display">\Delta z \approx f_x \Delta x + f_y \Delta y</script><p>在多元函数的任一点上，可分别做固定x轴和y轴的切线，两个切线可以构成一个切平面。</p>
<script type="math/tex; mode=display">\frac{\partial}{\partial x} f(x_0,y_0)=a\Rightarrow L_1=\left\{\begin{matrix}
z=z_0+a(x-x_0) & \\
y=y_0
\end{matrix}\right.</script><script type="math/tex; mode=display">\frac{\partial}{\partial y} f(x_0,y_0)=b\Rightarrow L_1=\left\{\begin{matrix}
z=z_0+b(y-y_0) & \\
x=x_0
\end{matrix}\right.</script><p>两条直线都在切平面里，切平面的平面方程：</p>
<script type="math/tex; mode=display">z=z_0+a(x-x_0)+b(y-y_0)</script><p>还有一种方法是：用参数方程表示两条直线，然后方向向量做叉乘，得到法向量，再用法向量得到平面方程。<br>函数的图像和切平面非常接近。可以用这个公式来估计x和y的变化对函数值的影响。   </p>
<h2 id="1-5-Optimization-Problems-优化问题"><a href="#1-5-Optimization-Problems-优化问题" class="headerlink" title="1.5 Optimization Problems 优化问题"></a>1.5 Optimization Problems 优化问题</h2><p>如何找到多元函数的极大值和极小值。   </p>
<p>在局部极小值极大值处，对各个变量的一阶偏导数都为0。  </p>
<p>这时候会发现函数的切平面是水平的。     </p>
<p>这个条件是必要但不充分的，有其他的偏导数为0的点但不是极值点。<br>定义：在f上有一点为 <strong>临界点</strong>（critical point）,如果对各个变量的偏导数为0。<br>既不是最大值也不是最小值的点，称为 <strong>鞍点</strong>。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/Saddle_point-min.png" alt="鞍点"><br>临界点可能是局部极大，局部极小或者鞍点。   </p>
<h2 id="1-6-Least-Squares-最小二乘"><a href="#1-6-Least-Squares-最小二乘" class="headerlink" title="1.6 Least Squares 最小二乘"></a>1.6 Least Squares 最小二乘</h2><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/Linear_regression.png" alt="最小二乘"><br>对于所有的测量点，找到一条直线，使得所有点到直线的y坐标的差的平方最小(惯例)。</p>
<script type="math/tex; mode=display">y=ax+b</script><p>最小化：</p>
<script type="math/tex; mode=display">D=\sum_{i=1}^n [y_i-(ax_i+b_i)]^2</script><script type="math/tex; mode=display">\frac{\partial D}{\partial a}=\sum_{i=1}^n 2[y_i-(ax_i+b_i)](-x_i)</script><script type="math/tex; mode=display">\frac{\partial D}{\partial b}=\sum_{i=1}^n 2[y_i-(ax_i+b_i)](-1)</script><p>得到2*2线性方程组</p>
<script type="math/tex; mode=display">(\sum_{i=1}^n x_i^2)a+(\sum_{i=1}^n x_i)b=\sum_{i=1}^n x_iy_i</script><script type="math/tex; mode=display">(\sum_{i=1}^n x_i^2)a+nb=\sum_{i=1}^n y_i</script><p><strong>摩尔定律的指数方程做最小二乘</strong></p>
<script type="math/tex; mode=display">y=c e^{ax}</script><script type="math/tex; mode=display">\ln(y)=\ln(c)+ax</script><h2 id="1-7-Second-Derivative-Test-二阶导数检验：边界与无穷"><a href="#1-7-Second-Derivative-Test-二阶导数检验：边界与无穷" class="headerlink" title="1.7 Second Derivative Test 二阶导数检验：边界与无穷"></a>1.7 Second Derivative Test 二阶导数检验：边界与无穷</h2><p>问题是如何判断局部最大值，局部最小值，鞍点。<br>如何找到全局最大值和最小值。<br>通常来说，最值可能出现在临界点，边界处或无穷远处。</p>
<h3 id="1-7-1-二次方程"><a href="#1-7-1-二次方程" class="headerlink" title="1.7.1 二次方程"></a>1.7.1 二次方程</h3><script type="math/tex; mode=display">D=ax^2+bxy+cy^2</script><p>如果有二次方程，可以将方程修改为平方项的形式，然后分析各项系数正负来判断。<br>有一种情况，某一变量系数为0，称作退化（degenerate）。退化临界点有可能是极大值或极小值。在高次方程中，也有可能是退化鞍点。      </p>
<script type="math/tex; mode=display">D=x^3+y^3</script><p>在原点处就是退化鞍点。   </p>
<p>也可以从判别式的角度得到同样的结论。   </p>
<ul>
<li>if $4ac-b^2&lt;0$，说明 $x/y$ 有正有负，存在鞍点。   </li>
<li>if $4ac-b^2&gt;0$，和x轴没有交点，恒正恒负，由a来判断<ul>
<li>if $a&gt;0$，存在极小值</li>
<li>if $a&lt;0$，存在极大值   </li>
</ul>
</li>
<li>if $b^2-4ac=0$，不好判断，退化</li>
</ul>
<p>下图分别为三种情况的函数图像：   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E4%BA%8C%E6%AC%A1%E9%9E%8D%E7%82%B9.png" alt=""><br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E4%BA%8C%E6%AC%A1%E6%9E%81%E5%80%BC.png" alt=""><br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E4%BA%8C%E6%AC%A1%E9%80%80%E5%8C%96.png" alt=""></p>
<h3 id="1-7-2-导数检测"><a href="#1-7-2-导数检测" class="headerlink" title="1.7.2 导数检测"></a>1.7.2 导数检测</h3><script type="math/tex; mode=display">A=\frac{\partial^2 f}{\partial x^2}=f_{xx}</script><script type="math/tex; mode=display">B=\frac{\partial^2 f}{\partial x \partial y }=f_{xy}=f_{yx}</script><script type="math/tex; mode=display">C=\frac{\partial^2 f}{\partial y^2}=f_{yy}</script><p>对于二阶函数    </p>
<script type="math/tex; mode=display">A=2a</script><script type="math/tex; mode=display">B=b</script><script type="math/tex; mode=display">C=2c</script><script type="math/tex; mode=display">AC-B^2=4ac-b^2</script><blockquote>
<p>为什么要用二阶导数进行判断？二阶导数判断是如何来的？<br>这要从泰勒公式说起，首先看函数的一阶展开：    </p>
</blockquote>
<script type="math/tex; mode=display">\Delta f\approx f_x(x-x_0)+f_y(y-y_0)</script><p>当在零界点的时候，变化为0，一阶展开是不够的，将函数进行二阶展开：</p>
<script type="math/tex; mode=display">\Delta f\approx f_x(x-x_0)+f_y(y-y_0)\\+
\frac{1}{2}f_{xx}(x-x_0)^2+
f_{xy}(x-x_0)(y-y_0)+
\frac{1}{2}f_{yy}(y-y_0)^2</script><p>发现二阶项就是标准的二阶方程，我们可以用前面同样的方法进行分析，说明通过二阶导数来分析函数的极大极小值是合理的。</p>
<blockquote>
<p>为什么判别式为0的时候不能判定函数形状？   </p>
</blockquote>
<p>当判别式为0的时候，二阶展开也不够用了，这时就需要判断更高阶的情况。在非退化情况下，函数的形状取决于二次项。在退化情形下，函数图像取决于更高阶导数。      </p>
<h2 id="1-8-例子"><a href="#1-8-例子" class="headerlink" title="1.8 例子"></a>1.8 例子</h2><p>对于任意函数，如何分析？</p>
<ol>
<li>通过一阶导找到临界点</li>
<li>通过二阶导判断类别</li>
<li>通过A的正负判断极大极小</li>
<li>完善，判断边界</li>
</ol>
<script type="math/tex; mode=display">f(x,y)=x+y+\frac{1}{xy}</script><p>第一步：</p>
<script type="math/tex; mode=display">f_x=1-\frac{1}{x^2y}=0</script><script type="math/tex; mode=display">f_y=1-\frac{1}{xy^2}=0</script><p>可得 $(x,y)=(1,1)$，这是临界点，下面要判断临界点类型</p>
<p>第二步：</p>
<script type="math/tex; mode=display">A=f_{xx}=\frac{2}{x^3y}</script><script type="math/tex; mode=display">B=f_{xy}=\frac{1}{x^2y^2}</script><script type="math/tex; mode=display">C=f_{yy}=\frac{2}{xy^3}</script><p>$AC-B^2&gt;0$，所以临界点(1,1)是极大值或者极小值</p>
<p>第三步：<br>$A&gt;0$,(1,1)是极小值</p>
<p>第四步：<br>考虑哪里是最大值，有边界处（0，0）和无穷远处，带入方程为无穷大，这时方程有最大值。   </p>
<h1 id="2-Chain-Rule-Gradient-and-Directional-Derivatives-链式法则，梯度和方向导数"><a href="#2-Chain-Rule-Gradient-and-Directional-Derivatives-链式法则，梯度和方向导数" class="headerlink" title="2.Chain Rule, Gradient and Directional Derivatives 链式法则，梯度和方向导数"></a>2.Chain Rule, Gradient and Directional Derivatives 链式法则，梯度和方向导数</h1><p>这一节会讲分析多元方程的更多方法。我们想知道多元函数各个变量的变化情况，在任意方向上如何计算多变量的变化。这一节可以帮助我们去解决这些问题。  </p>
<p>通常所说的函数指的是显函数，表达式为y=f(x)。很多时候，并不能直接通过x去表示y，而是F(x,y)=0的形式，这就是隐函数。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E5%BF%83%E7%BA%BF.png" alt="">   </p>
<p>在求隐函数的微分的时候，可以使用些小窍门：</p>
<script type="math/tex; mode=display">y=f(x)</script><script type="math/tex; mode=display">\mathrm{d} y=f'(x) \mathrm{d}x</script><p>对于多元或者复杂的函数，有一套标准的方法可以进行分析。  </p>
<p>首先说下单变量下的链式法则，有一个函数链$z=f(g(x))$。<br>链式法则要回答的是链的斜率，要求整条链的导数。   </p>
<script type="math/tex; mode=display">\frac{\mathrm{d} z}{\mathrm{d} x}=
\frac{\mathrm{d} z}{\mathrm{d} y}
\frac{\mathrm{d} y}{\mathrm{d} x}</script><p>我们要求的复杂函数导数就会转化成两个已知简单函数的导数。看一个例子来直观的理解：      </p>
<script type="math/tex; mode=display">\sin(3x)</script><p>内函数是$y=3x$，外函数是$z=\sin(y)$。<br>根据链式法则，得到：</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} z}{\mathrm{d} x}=
3\cos{3x}</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E9%93%BE%E5%BC%8F%E6%B3%95%E5%88%99%E4%BE%8B%E5%AD%90.png" alt=""></p>
<p>函数z的频率是正弦函数频率的三倍，所以变化的幅度更大，在原点处，斜率也是3倍，这和导数图像的结果完全一样。这就是链式法则的直观的表示。   </p>
<h2 id="2-1-Total-Differentials-and-the-Chain-Rule-全微分和链式法则"><a href="#2-1-Total-Differentials-and-the-Chain-Rule-全微分和链式法则" class="headerlink" title="2.1 Total Differentials and the Chain Rule 全微分和链式法则"></a>2.1 Total Differentials and the Chain Rule 全微分和链式法则</h2><p>全微分（Total Differentials）先来给个结果，对于f(x,y,z)，全微分：</p>
<script type="math/tex; mode=display">\mathrm{d} f=f_x\mathrm{d} x+
f_y\mathrm{d}y+
f_z\mathrm{d}z</script><p>d 就是微分符号，如何去考虑微分符号? 首先看看不能怎么去考虑：      </p>
<script type="math/tex; mode=display">\mathrm{d} f\neq \Delta f</script><p>$\Delta f$ 表示数量，而 $\mathrm{d} f$ 是符号。微分符号可以这样认为：</p>
<ul>
<li>反映了变量变化时对函数的影响。    </li>
<li>是一个微小变化的占位符。   <blockquote>
<p>有一个曾经使用过的公式，注意这里是约等号而不是等号：   </p>
</blockquote>
</li>
</ul>
<script type="math/tex; mode=display">\Delta f \approx f_x\Delta x+
f_y\Delta y+
f_z\Delta z</script><ul>
<li>同时除以 $\mathrm{d}t$ 可以得到t趋近于0变化率。<script type="math/tex; mode=display">\frac{\mathrm{d} f}{\mathrm{d} t} =f_x\frac{\mathrm{d} x}{\mathrm{d} t}+
f_y\frac{\mathrm{d} y}{\mathrm{d} t}+
f_z\frac{\mathrm{d} z}{\mathrm{d} t}</script></li>
</ul>
<p>这个就是 <strong>链式法则</strong>（chain rule）。如果函数依赖于某些变量，变量又依赖于其他变量，链式法则可以寻找出函数在新变量下的变化率以及个变量之间的依赖关系。   </p>
<p>先来一个不太严谨的证明：<br>如果x,y,z分别是t的函数，则有</p>
<script type="math/tex; mode=display">\mathrm{d}x=x'(t) \mathrm{d}t,
\mathrm{d}y=y'(t) \mathrm{d}t,
\mathrm{d}z=z'(t) \mathrm{d}t</script><p>带入后：</p>
<script type="math/tex; mode=display">\mathrm{d}f=f_xx'(t)\mathrm{d}t+
f_yy'(t)\mathrm{d}t+
f_zz'(t)\mathrm{d}t</script><p>除以 $\mathrm{d} t$ 就是链式法则。   </p>
<p>更好点的证明：  </p>
<script type="math/tex; mode=display">\Delta f \approx f_x\Delta x+
f_y\Delta y+
f_z\Delta z</script><script type="math/tex; mode=display">\frac{\Delta f}{\Delta t} \approx
\frac{f_x\Delta x+
f_y\Delta y+
f_z\Delta z}{\Delta t}</script><p>当 $\Delta t$ 非常小的时候，就出现了0/0这种情况，这就是微积分要处理的。微积分保留了这个值，在极限条件下这个值就是导数。变化率趋近的值就是微分,约等号也就变成等号了。这就是链式法则最核心的原理。    </p>
<script type="math/tex; mode=display">\frac{\Delta f}{\Delta t} \rightarrow
\frac{\mathrm d f}{\mathrm d t}，
\frac{\Delta x}{\Delta t} \rightarrow
\frac{\mathrm d x}{\mathrm d t}</script><p>例子：</p>
<script type="math/tex; mode=display">w=x^2y+z,x=t,y=e^t,z=\sin t</script><script type="math/tex; mode=display">\frac{\mathrm d w}{\mathrm d t}=
2xy\frac{\mathrm d x}{\mathrm d t}+
x^2\frac{\mathrm d y}{\mathrm d t}+
1 \frac{\mathrm d z}{\mathrm d t}</script><script type="math/tex; mode=display">=2te^t+t^2e^t+\cos t</script><p>也可以直接将各部分值带入，可以得到同样的结果，链式法则本质上是将多变量转化为单变量。如果x,y,z不能写成t的显性函数，则只能使用链式法则。      </p>
<h2 id="2-2-链式法则和微分的关系"><a href="#2-2-链式法则和微分的关系" class="headerlink" title="2.2 链式法则和微分的关系"></a>2.2 链式法则和微分的关系</h2><p>一个很有意思的地方，很多人知道导数的乘法法则，确实乘法法则是链式法则的一个应用，反过来乘法法则也可以通过链式法则来证明。   </p>
<script type="math/tex; mode=display">f=uv,u=u(t),v=v(t)</script><script type="math/tex; mode=display">\frac{\mathrm d (uv)}{\mathrm d t}=
f_u\frac{\mathrm d u}{\mathrm d t}+
f_v\frac{\mathrm d v}{\mathrm d t}\\
=v\frac{\mathrm d u}{\mathrm d t}+
u\frac{\mathrm d v}{\mathrm d t}</script><p>再来看看除法法则：</p>
<script type="math/tex; mode=display">g=\frac{u}{v},u=u(t),v=v(t)</script><script type="math/tex; mode=display">\frac{\mathrm d g}{\mathrm d t}=
\frac{1}{v}\frac{\mathrm d u}{\mathrm d t}+
\frac{-u}{v^2}\frac{\mathrm d v}{\mathrm d t}\\
=\frac{u'v-v'u}{v^2}</script><h2 id="2-3-多变量的链式法则"><a href="#2-3-多变量的链式法则" class="headerlink" title="2.3 多变量的链式法则"></a>2.3 多变量的链式法则</h2><p>到现在为止，感觉一切都没有问题，都是那么完美。突然有声音在问，之前的链式法则，都是认为所有变量都是关于共同变量t的，都依赖于同一个t，这本质上就是单变量的求导，如果每个变量依赖多个不同的变量，比如说一个极坐标下的方程，链式法则怎么用，函数w关于u,v的偏导数到底是什么？   </p>
<script type="math/tex; mode=display">w=f(x,y),x=x(u,v),y=y(u,v)</script><p>可以把x和y的公式带入，w就变成了u和v的方程。但是求这个偏导数绝对会让人抓狂的。或者，将链式法则进行到底：    </p>
<script type="math/tex; mode=display">\mathrm d w = f_x\mathrm d x+f_y\mathrm d y</script><p>如果改变u的话，w如何改变？x，y如何改变，这些是微分关系给我们的。   </p>
<script type="math/tex; mode=display">\mathrm d w =
f_x(x_u \mathrm d u+x_v \mathrm d v)+
f_y(y_u \mathrm d u+y_v \mathrm d v)\\
=(f_xx_u+f_yy_u)\mathrm d u+
(f_xx_v+f_yy_v)\mathrm d v</script><p>整理下这个式子，看括号内的部分：  </p>
<script type="math/tex; mode=display">\frac{\partial f}{\partial u}=
\frac{\partial f}{\partial x}
\frac{\partial x}{\partial u}+
\frac{\partial f}{\partial y}
\frac{\partial y}{\partial u}</script><script type="math/tex; mode=display">\frac{\partial f}{\partial v}=
\frac{\partial f}{\partial x}
\frac{\partial x}{\partial v}+
\frac{\partial f}{\partial y}
\frac{\partial y}{\partial v}</script><p>理解这个式子也不难，我们想知道，u如何影响f，f是关于x和y的函数，x和y又依赖于u，这就是链式法则的精华了。<br>有人发现分子分母上都有同样的偏微分符号，是不是可以再词约分化解，答案是不行。<br><strong>偏微分不能约分，偏微分不能约分，偏微分不能约分。</strong> 但是上下同时有微分符号，是可以约分的。    </p>
<h2 id="2-4-例子"><a href="#2-4-例子" class="headerlink" title="2.4 例子"></a>2.4 例子</h2><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E6%9E%81%E5%9D%90%E6%A0%871.png" alt=""><br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E6%9E%81%E5%9D%90%E6%A0%872.png" alt=""></p>
<p>平面直角坐标系和极坐标系换元的公式是：   </p>
<script type="math/tex; mode=display">\left\{\begin{matrix}
x = r\cos\varphi \\
y = r\sin\varphi

\end{matrix}\right.</script><p>如果已知函数f(x,y)，想知道f关于 $r$ 或者 $\varphi$ 的变化，就可以用链式法则试下了。   </p>
<script type="math/tex; mode=display">\frac{\partial f}{\partial r}=
\frac{\partial f}{\partial x}
\frac{\partial x}{\partial r}+
\frac{\partial f}{\partial y}
\frac{\partial y}{\partial r} \\
=f_x\cos{\varphi}+f_y\sin{\varphi}</script><h2 id="2-5-Gradient-Definition-Perpendicular-to-Level-Curves-梯度"><a href="#2-5-Gradient-Definition-Perpendicular-to-Level-Curves-梯度" class="headerlink" title="2.5 Gradient: Definition, Perpendicular to Level Curves 梯度"></a>2.5 Gradient: Definition, Perpendicular to Level Curves 梯度</h2><p>回顾一下链式法则：</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} t} =w_x\frac{\mathrm{d} x}{\mathrm{d} t}+
w_y\frac{\mathrm{d} y}{\mathrm{d} t}+
w_z\frac{\mathrm{d} z}{\mathrm{d} t}</script><p>w的变化是由x，y，z的变化引起的。x，y，z又分别以自己的速度变化，通过的偏导数的影响直接影响原函数。偏导数告诉我们w对每个变量变化有多敏感。</p>
<p>用一种新的写法：    </p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} t}=
\bigtriangledown w\cdot \frac{\mathrm{d}\overrightarrow{ r}}{\mathrm{d} t}</script><script type="math/tex; mode=display">\bigtriangledown w=\left \langle  w_x,w_y,w_z\right \rangle</script><script type="math/tex; mode=display">\frac{\mathrm{d}\overrightarrow{ r}}{\mathrm{d} t}=\left \langle  \frac{\mathrm{d} x}{\mathrm{d} t},
\frac{\mathrm{d} y}{\mathrm{d} t},
\frac{\mathrm{d} z}{\mathrm{d} t}\right \rangle</script><p>这个向量包含了所有的偏导数。每个点都会有一个向量。可以称为函数w在某一点（x,y,z）处的 <strong>梯度</strong> （gradient）。r对t的微分就是 <strong>速度向量</strong>（velocity vector）。   </p>
<p><strong>定理:</strong> 令w为常数，梯度向量垂直于原函数等值面。如图，画出函数的等高线，梯度向量是指向函数值更大的方向，并且垂直于等高线（投影于2维情况）。  </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/gradient_vis.png" alt=""></p>
<p>看一种最简单的情况：</p>
<script type="math/tex; mode=display">w=a_1x+a_2y+a_3z</script><script type="math/tex; mode=display">\bigtriangledown w=\left \langle  a_1,a_2,a_3\right \rangle</script><p>寻找这个函数的等值面，令w=c</p>
<script type="math/tex; mode=display">a_1x+a_2y+a_3z=c</script><p>发现，等值面就是平面。由于平面的法向量是</p>
<script type="math/tex; mode=display">\overrightarrow{n}=\left \langle  a_1,a_2,a_3\right \rangle</script><p>这个平面的法向量就是梯度向量。    </p>
<p>其实，对任何函数，都可以有这种线性的近似来代替函数本身。这意味着用切平面取代等值面。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E8%BF%91%E4%BC%BC%E5%88%87%E5%B9%B3%E9%9D%A2.png" alt=""></p>
<p>再来看一个例子：</p>
<script type="math/tex; mode=display">w=x^2+y^2</script><script type="math/tex; mode=display">\bigtriangledown w=\left \langle  2x,2y\right \rangle</script><p>当w=c时，在等值面上有梯度向量<2x,2y>，如图所示，垂直于等值面：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E4%BA%8C%E7%BB%B4%E6%A2%AF%E5%BA%A6.png" alt=""></2x,2y></p>
<h2 id="2-6-证明"><a href="#2-6-证明" class="headerlink" title="2.6 证明"></a>2.6 证明</h2><p>要理解向着等值曲线内部移动会发生什么？假设在等值曲线上有一个动点，这会令函数值保持为一个常数。通过链式法则，我们能够知道函数变化有多快。链式法则就是理解梯度向量和等值面之间的关键点。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E6%A2%AF%E5%BA%A6%E8%AF%81%E6%98%8E.png" alt=""></p>
<p>令 $\overrightarrow{r}=\overrightarrow{r}(t)$ 是一条在等值面 $w=c$ 上的曲线</p>
<p>首先观察速度向量，这个动点的速度向量和曲线相切，和等值面相切。</p>
<script type="math/tex; mode=display">\overrightarrow{v}=
\frac{\mathrm{d}\overrightarrow{r}}{\mathrm{d} t}</script><p>速度向量v和平面w=c相切，根据链式法则，我们知道w是如何变化的：   </p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} t}=
\bigtriangledown w\cdot \frac{\mathrm{d}\overrightarrow{ r}}{\mathrm{d} t}</script><p>由于一直在等值面上运动，所以梯度是0，所以</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} t}=0，w(t)=c=常数</script><p>可以推出，梯度向量和速度向量垂直：   </p>
<script type="math/tex; mode=display">\bigtriangledown w \perp  \overrightarrow{ v}</script><p>更进一步的说，这对任何w=c上的动点，都成立。</p>
<script type="math/tex; mode=display">\bigtriangledown w \perp  切平面</script><p>如果用二维来说，会有等高线，运动方向是切向量方向，梯度垂直于切向量。   </p>
<h2 id="2-7-例子"><a href="#2-7-例子" class="headerlink" title="2.7 例子"></a>2.7 例子</h2><p>找到 $x^2+y^2-z^2=4$ 在点(2,1,1)的切平面。这个函数叫做双曲面（hyperpoloid），长得像这个样子：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/hyperboloid.png" alt=""></p>
<p>这是 $w=x^2+y^2-z^2$ 在w=4时的等值面。梯度向量是：</p>
<script type="math/tex; mode=display">\bigtriangledown w =
\left \langle 2x,2y,-2z \right \rangle=
\left \langle 4,2,-2 \right \rangle</script><p>这是曲面或者是切平面的法向量。 <strong>曲面和切平面有相同的法向量</strong>。得到切平面的方程：</p>
<script type="math/tex; mode=display">4x+2y-2z=C</script><p>带入点（2，1，1），得到C=8。切平面和梯度向量如图所示：</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E5%8F%8C%E6%9B%B2%E7%BA%BF.png" alt=""></p>
<p>换一个角度，使用微分来考虑：</p>
<script type="math/tex; mode=display">\mathrm{d} w=2x\mathrm{d} x+2y\mathrm{d} y-2z\mathrm{d} z</script><script type="math/tex; mode=display">\Delta w \approx 4\Delta x+2\Delta y-2\Delta z</script><script type="math/tex; mode=display">4\Delta x+2\Delta y-2\Delta z=0</script><script type="math/tex; mode=display">4(x-2)+2(y-1)-2(z-1)=0</script><h2 id="2-8-Directional-Derivatives-方向导数"><a href="#2-8-Directional-Derivatives-方向导数" class="headerlink" title="2.8 Directional Derivatives 方向导数"></a>2.8 Directional Derivatives 方向导数</h2><p>方向导数是梯度的一个应用。<br>方向导数是沿着某方向上的导数，例如x轴，y轴。方向导数衡量了函数沿着某方向的变化情况。  </p>
<p>在某点（x,y)开始，有一个向量u，沿着u的方向直线移动。同时有一个二元函数w(x,y)，沿着u的方向，变化有多快？<br>将直线的轨迹参数化：</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} s}=\widehat{u}</script><p>这个问题实际上就是求：</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} s}</script><p><strong>定义</strong>：函数w沿着u方向的方向导数，不局限于坐标轴方向：   </p>
<script type="math/tex; mode=display">\left.\begin{matrix}
\frac{\mathrm{d} w}{\mathrm{d} s}
\end{matrix}\right|_ {\widehat{u}}</script><p>学习偏导数的时候我们知道，偏导数是与x轴y轴平行的线做垂面所得到的截线的斜率。相似的，方向导数是沿着方向向量的垂面截取图像，得到的截线的斜率。</p>
<p>链式法则里，就讲解过如何去求解了。现在，可视化这个问题。沿着3D图直线方向做垂面，可以得到这个垂面的截线，截线上的某点的斜率就是方向导数：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E5%9B%BE%E5%BD%A2%E5%8C%96%E6%96%B9%E5%90%91%E5%AF%BC%E6%95%B0.png" alt=""></p>
<p><strong>方向导数的计算</strong><br>根据链式法则：   </p>
<script type="math/tex; mode=display">\frac{\mathrm{d} w}{\mathrm{d} s}=
\bigtriangledown w\cdot \frac{\mathrm{d}\overrightarrow{ r}}{\mathrm{d} s}</script><script type="math/tex; mode=display">\left.\begin{matrix}
\frac{\mathrm{d} w}{\mathrm{d} s}
\end{matrix}\right|_ {\widehat{u}}=
\bigtriangledown w\cdot \widehat{u}</script><p>比如说在i方向上的方向导数：  </p>
<script type="math/tex; mode=display">\left.\begin{matrix}
\frac{\mathrm{d} w}{\mathrm{d} s}
\end{matrix}\right|_ {\widehat{i}}=
\bigtriangledown w\cdot \widehat{i}=
\frac{\partial w}{\partial x}</script><p>i方向上的方向导数就是x方向的偏导数。   </p>
<p><strong>梯度向量和方向导数的关系</strong><br>已经知道</p>
<script type="math/tex; mode=display">\left.\begin{matrix}
\frac{\mathrm{d} w}{\mathrm{d} s}
\end{matrix}\right|_ {\widehat{u}}=
\bigtriangledown w\cdot \widehat{u}=
\left | \bigtriangledown w \right |\left | u \right | \cos \theta</script><p>当角度为0的时候，方向导数变化最大。所以梯度向量是在给定点处函数增加最快的向量。<br>当角度为180的时候，方向导数是负的梯度。<br>当角度为90的时候，运动方向与梯度向量垂直，相当于在等值面上运动，没有大小变化。此时与等值面相切。</p>
<h1 id="3-Lagrange-Multipliers-and-Constrained-Differentials-拉格朗日乘数法"><a href="#3-Lagrange-Multipliers-and-Constrained-Differentials-拉格朗日乘数法" class="headerlink" title="3. Lagrange Multipliers and Constrained Differentials 拉格朗日乘数法"></a>3. Lagrange Multipliers and Constrained Differentials 拉格朗日乘数法</h1><p>拉格朗日乘子(Lagrange Multipliers)</p>
<h2 id="3-1-Statement-of-Lagrange-Multipliers-and-Example"><a href="#3-1-Statement-of-Lagrange-Multipliers-and-Example" class="headerlink" title="3.1 Statement of Lagrange Multipliers and Example"></a>3.1 Statement of Lagrange Multipliers and Example</h2><p>找到函数当x,y,z是不独立时f(x,y,z)的最小值或最大值，即有约束条件g(x,y,z)=c。   </p>
<p>对于简单的约束条件，可以先把x,y,z的关系解出来，代入到原方程中。但是更加复杂的约束条件就不能这么解了。</p>
<p>先来看一个例子，找双曲线(hyperbola) xy=3 上离原点最近的点。等价的数学表达式是：</p>
<script type="math/tex; mode=display">\min f(x,y)=x^2+y^2</script><script type="math/tex; mode=display">\mathrm{s.t.} g(x,y):xy=3</script><p>可以先画出 $x^2+y^2$ 的等高线图，不同c的高线上每一个点 (x,y) 到原点的距离的平方都是常数c值。这个例子的几何意义就是在双曲线上找到距离原点最近的点。   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarCon.png" alt=""></p>
<p>当最小值发生的时候，f(x,y) 的等高线和 g(x,y)=3 是相切的。</p>
<p><strong>如何把这个切点解出来？</strong><br>如果两个等高线相切，说明它们的切线相同，法向量平行。由于梯度向量和等高线垂直，最值出现的时候，也就是在切点处，f和g的梯度向量是平行的。</p>
<p>当互相平行的时候，它们是成倍数关系。这个倍数就是拉格朗日乘子，用希腊字母lambda表示。  </p>
<script type="math/tex; mode=display">\bigtriangledown f \parallel \bigtriangledown g</script><script type="math/tex; mode=display">\bigtriangledown f = \lambda\cdot\bigtriangledown g</script><blockquote>
<p>主题无关，使用lambda符号代表拉格朗日乘子，很有可能是向拉格朗日致敬，因为都以L开头</p>
</blockquote>
<p>现在要做的就是求解x,y和lambda三个未知量。</p>
<script type="math/tex; mode=display">\bigtriangledown f = \lambda\cdot\bigtriangledown g
\left\{\begin{matrix}
f_x=\lambda\cdot g_x\\
f_y=\lambda\cdot g_y
\end{matrix}\right.</script><p>再加上限制条件g，三个方程三个未知数，答案就得到了：</p>
<script type="math/tex; mode=display">\left\{\begin{matrix}
2x-\lambda y = 0 \\
\lambda x -2y = 0 \\
xy=3\\
\end{matrix}\right.\Rightarrow
\begin{bmatrix}
2 & -\lambda\\
\lambda &-2
\end{bmatrix}\cdot
\begin{bmatrix}
x\\
y
\end{bmatrix}=
\begin{bmatrix}
0\\
0
\end{bmatrix}</script><p>首先x和y都等于0并不满足限制条件，所以是一组平凡解。非平凡解要求矩阵的行列式为0。</p>
<script type="math/tex; mode=display">\begin{vmatrix}
2 & -\lambda\\
\lambda &-2
\end{vmatrix}=0</script><p>得到的值分别代入求证，找到最终解。</p>
<p>补充一点，<strong>拉格朗日乘法无法判断是最大值还是最小值，在三维空间中还有可能是鞍点。</strong>   </p>
<h2 id="3-2-Proof-of-Lagrange-Multipliers-证明"><a href="#3-2-Proof-of-Lagrange-Multipliers-证明" class="headerlink" title="3.2 Proof of Lagrange Multipliers 证明"></a>3.2 Proof of Lagrange Multipliers 证明</h2><p>一个函数在某种限制条件下的最小点或者最大点，这时，如果在g的等值面上移动，则y的值一定是增加或者减少的。而且f的一阶导数符号不会改变。</p>
<p>没有限制条件g的时候，最大值或者最小值的偏导数为0。在有限制条件的时候，偏导数只有在固定的方向上才是0，即指向g的等值面的延伸方向。</p>
<p>有限制条件的最小值或者最大值，在任何g=c的方向上，f的变化率是0。</p>
<p>从方向导数角度来看：<br>考虑任意一个与 g=c 相切的向量</p>
<script type="math/tex; mode=display">\widehat{u}</script><p>都有：</p>
<script type="math/tex; mode=display">\left.\begin{matrix}
\frac{\mathrm{d} f}{\mathrm{d} s}
\end{matrix}\right|_ {\widehat{u}}=0</script><script type="math/tex; mode=display">\bigtriangledown f \cdot \widehat{u}=0</script><script type="math/tex; mode=display">\bigtriangledown f \perp \widehat{u}</script><p>所以：</p>
<script type="math/tex; mode=display">\bigtriangledown f \perp g的等值面</script><p>由于：</p>
<script type="math/tex; mode=display">\bigtriangledown g \perp g的等值面</script><p>所以：</p>
<script type="math/tex; mode=display">\bigtriangledown f \parallel \bigtriangledown g</script><p>如图，红色向量为u，是P在g=c上的切线，f是平面的情况</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarTest1.png" alt=""></p>
<p>有最大值的情况:</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarTest_max.png" alt=""></p>
<p>有最小值的情况:</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarTest_min.png" alt=""></p>
<p>再来看一个例子：</p>
<script type="math/tex; mode=display">\max f(x,y)=2-x^2-2y^2</script><script type="math/tex; mode=display">\mathrm{s.t.} g(x,y):x+y=1</script><p>函数图像是这样子的：   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarEx1.png" alt=""></p>
<p>可行解都在限制条件g(x,y)上，如图所示为等高线图:    </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarEx1_2.png" alt=""></p>
<p>目标优化方程f(x,y)梯度向量:   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarEx1_3.png" alt=""></p>
<p>限制条件g(x,y)梯度向量:   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/LarEx1_4.png" alt=""></p>
<p>红圈处为最优解，梯度向量互相平行。   </p>
<blockquote>
<p>警告：如何知道是最小值还是最大值？<br>不能知道，而且不能用二次导来验证，只能带入值来求解。</p>
</blockquote>
<h2 id="3-3-Advanced-Example-复杂例子"><a href="#3-3-Advanced-Example-复杂例子" class="headerlink" title="3.3 Advanced Example 复杂例子"></a>3.3 Advanced Example 复杂例子</h2><p>当有时候函数或者约束条件复杂，拉格朗日法计算也很吃力，牢记拉格朗日法的本质，会化繁为简。   </p>
<blockquote>
<p>已知金字塔的体积，找一个表面积最小的金字塔。<br>底面三点P1(x1,y1)，P2(x2,y2)，P1(x3,y3)，要求顶点P(x,y,h)    </p>
</blockquote>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/volume-of-triangular-pyramid.jpeg" alt=""></p>
<script type="math/tex; mode=display">体积=\frac{1}{3} 底面积\cdot高</script><p>由于高是固定的，来看下金字塔的底面，u1，u2，u3分别是到a1，a2，a3三条边的距离：   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/%E9%87%91%E5%AD%97%E5%A1%94%E5%BA%95%E9%9D%A2.png" alt=""></p>
<p>某一侧边的高是：</p>
<script type="math/tex; mode=display">h_1=\sqrt{u_1^2+h^2}</script><p>侧面的总面积 $f(u1,u2,u3)$：</p>
<script type="math/tex; mode=display">面积=\frac{1}{2}a_1\sqrt{u_1^2+h^2}+
\frac{1}{2}a_2\sqrt{u_2^2+h^2}+
\frac{1}{2}a_3\sqrt{u_3^2+h^2}</script><p>限制条件底面面积 $g(u1,u2,u3)$：</p>
<script type="math/tex; mode=display">底面面积=\frac{1}{2}a_1u_1+
\frac{1}{2}a_2u_2+
\frac{1}{2}a_3u_3</script><p>使用拉格朗日乘数法方程：</p>
<script type="math/tex; mode=display">\bigtriangledown f = \lambda\cdot\bigtriangledown g</script><script type="math/tex; mode=display">\left\{\begin{matrix}
\lambda =\frac{u_1}{\sqrt{u_1^2+h^2}}\\
\lambda =\frac{u_2}{\sqrt{u_2^2+h^2}}\\
\lambda =\frac{u_3}{\sqrt{u_3^2+h^2}}
\end{matrix}\right.</script><p>也就是</p>
<script type="math/tex; mode=display">u_1=u_2=u_3</script><p>顶点距离三条底边距离相等的时候，总面积最小。</p>
<h2 id="3-4-Constrained-Differentials-带约束条件的微分方程"><a href="#3-4-Constrained-Differentials-带约束条件的微分方程" class="headerlink" title="3.4 Constrained Differentials 带约束条件的微分方程"></a>3.4 Constrained Differentials 带约束条件的微分方程</h2><p>带约束条件的方程意味着方程有非独立变量(Non-independent variables)，即g(x,y,z)=c。</p>
<p>有函数</p>
<script type="math/tex; mode=display">f(x,y,z)</script><p>变量之间的关系为</p>
<script type="math/tex; mode=display">g(x,y,z)=c</script><p>从偏微分的角度来看看约束条件。<br>已知：</p>
<script type="math/tex; mode=display">x^2+yz+z^3=8</script><p>对方程微分：</p>
<script type="math/tex; mode=display">2x\mathrm{d}x+z\mathrm{d}y+(y+3z^3)\mathrm{d}z=0</script><p>在(2,3,1)这一点上有：</p>
<script type="math/tex; mode=display">4\mathrm{d}x+\mathrm{d}y+6\mathrm{d}z=0</script><p>这个方程反映了 $x，y，z$ 在 $(2,3,1)$ 这一点上发生变化的关系。它告诉我们诸如此类的一些问题，当 $x，y$ 变化时，z如何变化。在等值面上，变化量之间有什么关系。如果将z看作是 $x，y$ 的函数 $z=z(x,y)$，可以得到 $z$ 关于 $x，y$ 的全微分，全微分符号前边部分为偏微分。     </p>
<script type="math/tex; mode=display">\mathrm{d}z=-\frac{1}{6}(4\mathrm{d}x+\mathrm{d}y)</script><script type="math/tex; mode=display">\frac{\partial{z}}{\partial{x}}=-\frac{2}{3}</script><script type="math/tex; mode=display">\frac{\partial{z}}{\partial{y}}=-\frac{1}{6}</script><p>当考虑x对z的偏微分的时候，会假定y恒定，$\mathrm{d}y=0$；同理，y对z的偏微分会假定x恒定，$\mathrm{d}x=0$。   </p>
<p>好了，通常来说：</p>
<script type="math/tex; mode=display">g(x,y,z)=c</script><script type="math/tex; mode=display">\mathrm{d}g=g_x\mathrm{d}x+g_y\mathrm{d}y+g_z\mathrm{d}z=0</script><p>现在就可以用任意两个变量表示第三个：</p>
<script type="math/tex; mode=display">\mathrm{d}z=-\frac{g_x}{g_z}\mathrm{d}x-\frac{g_y}{g_z}\mathrm{d}y</script><p>由于微分符号前边的系数可以把它考虑成偏微分，则有</p>
<script type="math/tex; mode=display">\frac{\mathrm{d}z}{\mathrm{d}x}=-\frac{g_x}{g_z}</script><blockquote>
<p>注意一个违反直觉的地方：负号出现了。</p>
</blockquote>
<p>这就是求约束变量之间变化率的通用方法。</p>
<h2 id="3-5-Clearer-Notation-说明符号"><a href="#3-5-Clearer-Notation-说明符号" class="headerlink" title="3.5 Clearer Notation 说明符号"></a>3.5 Clearer Notation 说明符号</h2><p>一个有趣的函数：</p>
<script type="math/tex; mode=display">f(x,y)=x+y</script><script type="math/tex; mode=display">x=u</script><script type="math/tex; mode=display">y=u+v</script><p>分别求偏导数：</p>
<script type="math/tex; mode=display">\frac{\partial{f}}{\partial{x}}=1</script><script type="math/tex; mode=display">\frac{\partial{f}}{\partial{u}}=2</script><p>虽然x=u，但是对f的偏导数却是不相同的。f对于x的偏微分，要求y保持恒定，f对于u的偏微分要求v保持恒定。虽然x=y，但是y和v是不相同的。所以，很重要的一点是要明确哪个变量是维持恒定的。这里使用一种说明符号，注意这里不再表示偏微分，而是表示恒定量：</p>
<script type="math/tex; mode=display">\left ( \frac{\partial f}{\partial x} \right )_ y</script><p>用新的表示法解决之前冲突的地方：</p>
<script type="math/tex; mode=display">\left ( \frac{\partial f}{\partial x} \right )_ y \neq
\left ( \frac{\partial f}{\partial x} \right )_ v =
\left ( \frac{\partial f}{\partial u} \right )_ v</script><p>在处理关联变量的时候，这一点尤其重要。</p>
<h2 id="3-5-Example-关于非独立变量的例子"><a href="#3-5-Example-关于非独立变量的例子" class="headerlink" title="3.5 Example 关于非独立变量的例子"></a>3.5 Example 关于非独立变量的例子</h2><p>一个几何学的例子，三角形面积。   </p>
<p>假设有一个三角形，变量是两条边 $a$ 和 $b$, 这两条边的夹角是$theta$。 有一个限制条件，三角形是直角三角形，$a$ 和 $b$ 分别是直角边和斜边。求三角形面积对角度的变化情况。</p>
<p>考虑三种情况：<br><strong>第一种情况：</strong> a, b 恒定，只改变角度，即没有直角三角形作为约束，$a,b,\theta$ 是独立的：   </p>
<script type="math/tex; mode=display">\left ( \frac{\partial A}{\partial \theta} \right )_ {a,b}=
\frac{1}{2}ab\cos{\theta}</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/triangleABconstant.gif" alt=""></p>
<p><strong>第二种情况：</strong> 保持a恒定不变，$b$ 成为 $a$ 和 $\theta$ 的函数。  </p>
<script type="math/tex; mode=display">b=\frac{a}{\cos{\theta}}</script><script type="math/tex; mode=display">\left ( \frac{\partial A}{\partial \theta} \right )_ {a}=
\frac{1}{2}a^2\sec^2{\theta}</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/triangleAconstant.gif" alt=""></p>
<p><strong>第三种情况：</strong> 保持b恒定不变，$a$ 成为 $b$ 和 $\theta$ 的函数。</p>
<script type="math/tex; mode=display">a=b\cos{\theta}</script><script type="math/tex; mode=display">\left ( \frac{\partial A}{\partial \theta} \right )_ {b}=
\frac{1}{2}b^2\sin{\theta}\cos{\theta}</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%BA%8C%EF%BC%9A%E5%81%8F%E5%BE%AE%E5%88%86-%E7%AC%94%E8%AE%B0/triangleBconstant.gif" alt=""></p>
<blockquote>
<p>存在非独立变量的时候，要消去这些非独立变量。作图的时候遇到了问题，使用独立变量问题解决。</p>
</blockquote>
<p>接下来看看如何解偏微分。</p>
<script type="math/tex; mode=display">\left ( \frac{\partial A}{\partial \theta} \right )_ {a} ?</script><p><strong>方法0：</strong> 将约束条件代入，消去因变量，再求导。</p>
<p>系统的方法：</p>
<p><strong>方法1：微分</strong>   </p>
<ul>
<li>对目标函数进行微分。</li>
<li>对约束条件进行微分。</li>
<li>使恒定不变量微分为0，化简整理，得到答案。<script type="math/tex; mode=display">A=\frac{1}{2}ab\sin{\theta}\Rightarrow \\
dA=\frac{1}{2}b\sin{\theta}\mathrm{d}a+\frac{1}{2}a\sin{\theta}\mathrm{d}b+\frac{1}{2}ab\cos{\theta}\mathrm{d}\theta</script><script type="math/tex; mode=display">a=b\cos{\theta}\Rightarrow \\
\mathrm{d}a=\cos{\theta}\mathrm{d}b-b\sin{\theta}\mathrm{d}\theta</script><script type="math/tex; mode=display">\mathrm{d}a=0\Rightarrow \\
\left ( \frac{\partial A}{\partial \theta} \right )_ {a}=\frac{1}{2}ab\sec{\theta}</script></li>
</ul>
<p><strong>方法2：链式法则</strong>    </p>
<script type="math/tex; mode=display">\left ( \frac{\partial A}{\partial \theta} \right )_ {a} =
A_{\theta}\left (  \frac{\partial{\theta}}{\partial{\theta}} \right )_ {a}+
A_{a}\left (  \frac{\partial{a}}{\partial{\theta}} \right )_ {a}+
A_{b}\left ( \frac{\partial{b}}{\partial{\theta}} \right )_ {a}</script><p>第一项分数可约分，只剩下不考虑约束条件的偏微分；第二项为0；第三项需要约束条件解得偏微分的比值，得到最终结果。这是含有非独立变量的链式法则。两种方法可以加深理解。     </p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-Functions-of-Two-Variables-Tangent-Approximation-and-Optimization&quot;&gt;&lt;a href=&quot;#1-Functions-of-Two-Variables-Tangent-Approximation-and-Optimization&quot; class=&quot;headerlink&quot; title=&quot;1. Functions of Two Variables, Tangent Approximation and Optimization&quot;&gt;&lt;/a&gt;1. Functions of Two Variables, Tangent Approximation and Optimization&lt;/h1&gt;&lt;h2 id=&quot;1-1-Functions-of-Two-Variables-Graphs-二元函数：图&quot;&gt;&lt;a href=&quot;#1-1-Functions-of-Two-Variables-Graphs-二元函数：图&quot; class=&quot;headerlink&quot; title=&quot;1.1 Functions of Two Variables: Graphs 二元函数：图&quot;&gt;&lt;/a&gt;1.1 Functions of Two Variables: Graphs 二元函数：图&lt;/h2&gt;&lt;p&gt;有没有试着去画一个二元函数的图，比起一元函数来，画二元函数的图简直就是灾难。   &lt;/p&gt;
&lt;script type=&quot;math/tex; mode=display&quot;&gt;f(x,y)&lt;/script&gt;&lt;p&gt;如何直观的表示一个二元函数的图，一个很好的列子就是等高线图：   &lt;/p&gt;
    
    </summary>
    
      <category term="苦境" scheme="http://ihozh.com/categories/%E8%8B%A6%E5%A2%83/"/>
    
    
      <category term="微积分" scheme="http://ihozh.com/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/"/>
    
      <category term="工程数学" scheme="http://ihozh.com/tags/%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
      <category term="公开课" scheme="http://ihozh.com/tags/%E5%85%AC%E5%BC%80%E8%AF%BE/"/>
    
      <category term="18.02" scheme="http://ihozh.com/tags/18-02/"/>
    
  </entry>
  
  <entry>
    <title>MIT多元微积分一：向量和矩阵 笔记</title>
    <link href="http://ihozh.com/2017/05/15/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/"/>
    <id>http://ihozh.com/2017/05/15/MIT多元微积分一：向量和矩阵-笔记/</id>
    <published>2017-05-15T20:51:16.000Z</published>
    <updated>2017-05-23T06:52:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Vectors-Determinations-and-Planes-向量，行列式和平面"><a href="#1-Vectors-Determinations-and-Planes-向量，行列式和平面" class="headerlink" title="1. Vectors, Determinations and Planes 向量，行列式和平面"></a>1. Vectors, Determinations and Planes 向量，行列式和平面</h1><h2 id="1-1-基础"><a href="#1-1-基础" class="headerlink" title="1.1 基础"></a>1.1 基础</h2><p>向量是一个既有大小又有方向的量。with both direction and magnitude/length。通过带箭头的直线将向量直观的表示出来。引入空间直角坐标系和单位向量是向量间计算的基础。   </p>
<p>Pythagorean theory 毕达哥拉斯定理，勾股定理   </p>
<p><strong>计算向量的长度</strong> $\left | \overrightarrow{a} \right |$，多维向量还是通过勾股定理计算。   </p>
<p><strong>向量的加法</strong>    </p>
<script type="math/tex; mode=display">\overrightarrow{A}+\overrightarrow{B}=\left \langle a_{1}+b_{1},a_{2}+b_{2} \right \rangle</script><p>向量是头尾加法，同一方向可以进行标量加法。    </p>
<a id="more"></a>
<h2 id="1-2-Dot-Products点积"><a href="#1-2-Dot-Products点积" class="headerlink" title="1.2 Dot Products点积"></a>1.2 Dot Products点积</h2><p>两个向量相乘，结果是标量。几何意义是计算两个向量的夹角，以及在某一方向上的投影。   </p>
<p><strong>定义：</strong>    </p>
<script type="math/tex; mode=display">\overrightarrow{A}\cdot \overrightarrow{B}=\sum_{a_i,b_i}=a_{1}b_{1}+a_{2}b_{2}</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/vector.png" alt="dot product 向量点乘">   </p>
<p>点积的几何意义：$\overrightarrow{a}\cdot \overrightarrow{b}=\left | a \right |\left | b \right |\cos(\theta)$   </p>
<p><strong>证明：</strong>    </p>
<script type="math/tex; mode=display">\overrightarrow{c}=\overrightarrow{a}-\overrightarrow{b}</script><script type="math/tex; mode=display">\overrightarrow{c}\cdot \overrightarrow{c}=(\overrightarrow{a}-\overrightarrow{b})\cdot (\overrightarrow{a}-\overrightarrow{b})={\left | a \right |}^{2}+{\left | b \right |}^{2}-2\overrightarrow{a}\cdot \overrightarrow{b}</script><p>根据余弦定理：   </p>
<script type="math/tex; mode=display">\overrightarrow{c}\cdot \overrightarrow{c}={\left | c \right |}^2={\left | a \right |}^{2}+{\left | b \right |}^{2}-2\left | a \right |\left | b \right |\cos(\theta )</script><p>所以：  </p>
<script type="math/tex; mode=display">\overrightarrow{a}\cdot \overrightarrow{b}=\left | a \right |\left | b \right |\cos(\theta)</script><h2 id="1-3-点积的应用"><a href="#1-3-点积的应用" class="headerlink" title="1.3 点积的应用"></a>1.3 点积的应用</h2><ul>
<li>计算长度和角度<br>计算向量的角度的时候，先算出来的是cos，有趣的是cos的符号   <ul>
<li>sign&gt;0，锐角   </li>
<li>sign&lt;0，钝角   </li>
<li>sign=0，直角   </li>
</ul>
</li>
<li>检测正交<br>$x+2y+3z=0$ 的点集是什么形状?  平面    </li>
</ul>
<script type="math/tex; mode=display">\overrightarrow{A}=\left \langle 1,2,3 \right \rangle</script><script type="math/tex; mode=display">\overrightarrow{P}=\left \langle x,y,z \right \rangle</script><script type="math/tex; mode=display">\overrightarrow{A}\cdot \overrightarrow{OP}=0</script><script type="math/tex; mode=display">\overrightarrow{A}\perp \overrightarrow{OP}</script><ul>
<li>向量沿一个方向的成分，单位向量<ul>
<li>计算悬挂摆，分解力</li>
</ul>
</li>
</ul>
<h2 id="1-4-Determinations-行列式"><a href="#1-4-Determinations-行列式" class="headerlink" title="1.4 Determinations 行列式"></a>1.4 Determinations 行列式</h2><blockquote>
<p>如何计算几个向量围成的面积?<br>三角形的面积怎么计算？</p>
</blockquote>
<script type="math/tex; mode=display">Area=\frac{1}{2}\left | a \right |\left | b \right |\sin{\theta }</script><p>奇妙的是，这和底乘高的得到结果一样。<br>再算出余弦，带入，会很麻烦。   </p>
<blockquote>
<p>下面的内容会非常有趣</p>
</blockquote>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/det.png" alt="determination 行列式">   </p>
<p>考虑两个向量，$\overrightarrow{a}$ 和差90度的向量 $\overrightarrow{a’}$    </p>
<script type="math/tex; mode=display">Area=\frac{1}{2}\left | a \right |\left | b \right |\sin{\theta }</script><script type="math/tex; mode=display">\sin{\theta}=\cos{\theta'}</script><script type="math/tex; mode=display">Area=\frac{1}{2}\overrightarrow{a'}\cdot \overrightarrow{b}</script><script type="math/tex; mode=display">\overrightarrow{a'}=\left \langle -a_2,a_1 \right \rangle</script><script type="math/tex; mode=display">\overrightarrow{a'}\cdot \overrightarrow{b}=\left \langle -a_2,a_1 \right \rangle \cdot \left \langle b_1,b_2 \right \rangle=a_1b_2-a_2b_1</script><script type="math/tex; mode=display">=\begin{vmatrix}
a_1&a_2\\
b_1&b_2
\end{vmatrix}=\det(a,b)</script><p>发现行列式代数上是余向量的点积，几何上行列式的绝对值是向量所围成的面积。<br>Area=abs value of det.</p>
<h2 id="1-5-空间行列式"><a href="#1-5-空间行列式" class="headerlink" title="1.5 空间行列式"></a>1.5 空间行列式</h2><p>高维行列式计算方法，扩展：奇正偶负。正负是因为改变了空间的方向。更复杂的内容会在18.06讲解。</p>
<script type="math/tex; mode=display">\begin{vmatrix}
 a_1&  a_2& a_3\\
 b_1&  b_2& b_3\\
 c_1&  c_2& c_3\\
\end{vmatrix}=a_1
\begin{vmatrix}
 b_2& b_3\\
 c_2& c_3\\
\end{vmatrix}-a_2
\begin{vmatrix}
 b_1& b_3\\
 c_1& c_3\\
\end{vmatrix}+a_3
\begin{vmatrix}
 b_1& b_2\\
 c_1& c_2\\
\end{vmatrix}</script><p>几何学上，三维行列式就是长方体体积的加减。</p>
<h2 id="1-6-Cross-product-叉乘"><a href="#1-6-Cross-product-叉乘" class="headerlink" title="1.6 Cross product 叉乘"></a>1.6 Cross product 叉乘</h2><p>三纬空间的两个向量<br>定义:   </p>
<script type="math/tex; mode=display">\overrightarrow{A}\times \overrightarrow{B}  =\begin{vmatrix}
\widehat{i}& \widehat{j}& \widehat{k}\\
 a_1&  a_2& a_3\\
 b_1&  b_2& b_3
\end{vmatrix}</script><p>叉乘的结果是个向量。   </p>
<ul>
<li>$\left |\overrightarrow{A}\times \overrightarrow{B}  \right |$ = 向量围成平行四边形的面积。</li>
<li>$dir(\overrightarrow{A}\times \overrightarrow{B})$ 垂直于两向量所在平面</li>
<li>向量方向的判断的方式为右手法则   <ul>
<li>右手指向向量A的方向</li>
<li>手指指向向量B的方向</li>
<li>竖起大拇指，拇指方向为叉乘方向   </li>
</ul>
</li>
</ul>
<p>例子：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/right-hand%20rule.png?imageMogr2/auto-orient/thumbnail/200x200&gt;/blur/1x0/quality/75|imageslim" alt="右手法则"></p>
<script type="math/tex; mode=display">\widehat{i}\times \widehat{j}=
\begin{vmatrix}
 \widehat{i}& \widehat{j}& \widehat{k} \\
 1& 0& 0 \\
 0& 1& 0
\end{vmatrix}
=0\widehat{i}-0\widehat{j}+1\widehat{k}</script><p><strong>关于空间体积的一些观点</strong><br>前面说到三维行列式的几何学意义就是体积。   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/volume.png" alt="volume">  </p>
<script type="math/tex; mode=display">Volume=base(area)\cdot height=\left | \overrightarrow{B}\times \overrightarrow{C} \right |(\overrightarrow{A}\cdot \overrightarrow{n})</script><script type="math/tex; mode=display">\overrightarrow{n}=\frac{\overrightarrow{B}\times \overrightarrow{C}}{\left | \overrightarrow{B}\times \overrightarrow{C} \right |}</script><script type="math/tex; mode=display">Volume=\overrightarrow{A}\cdot (\overrightarrow{B}\times \overrightarrow{C})=\det(\overrightarrow{A},\overrightarrow{B},\overrightarrow{C})</script><p><strong>补充</strong><br>$\overrightarrow{A}\times \overrightarrow{B}$ 和  $\overrightarrow{B}\times \overrightarrow{A}$ 由于方向的原因，是完全相反的。<br>$\overrightarrow{A}\times \overrightarrow{A}=0$</p>
<h2 id="1-7-Equations-of-planes-平面的方程"><a href="#1-7-Equations-of-planes-平面的方程" class="headerlink" title="1.7 Equations of planes 平面的方程"></a>1.7 Equations of planes 平面的方程</h2><p>这一节主要讲的是叉乘的应用。   </p>
<blockquote>
<p>如何已知三点构成的平面，和另外一个点P，如何确定点P在这个平面上。   </p>
</blockquote>
<p>一个方法是：</p>
<script type="math/tex; mode=display">\det(\overrightarrow{P_1P},\overrightarrow{P_1P_2},\overrightarrow{P_1P_3})=0</script><p>带入 $P(x,y,z)$ 就得到平面的方程。    </p>
<p>另一个方法：如果P在平面上则可以推出   </p>
<script type="math/tex; mode=display">\overrightarrow{P_1P}\perp \overrightarrow{n}</script><p>$\overrightarrow{n}$ 是平面法向量（normal vector）。<br>最后得到了一个我们很熟悉的公式，也是计算体积的公式：</p>
<script type="math/tex; mode=display">\overrightarrow{P_1P}\cdot (\overrightarrow{P_1P_2} \times \overrightarrow{P_1P_3})=0</script><p>这个形式在向量计算中有个别名，叫做三重积（Triple product），和行列式是一回事。</p>
<h1 id="2-Matrices-and-Systems-of-Equations-矩阵和系统方程"><a href="#2-Matrices-and-Systems-of-Equations-矩阵和系统方程" class="headerlink" title="2. Matrices and Systems of Equations 矩阵和系统方程"></a>2. Matrices and Systems of Equations 矩阵和系统方程</h1><blockquote>
<p>为什么要使用矩阵，使用矩阵的动机是什么</p>
</blockquote>
<p>在生活中，我们接触的很多东西都是线性的，或者需要简化成线性的。多个等式的联立得到的就是矩阵了。联立方程就是矩阵乘法。</p>
<h2 id="2-1-Matrix-Multiplication-矩阵乘法"><a href="#2-1-Matrix-Multiplication-矩阵乘法" class="headerlink" title="2.1 Matrix Multiplication 矩阵乘法"></a>2.1 Matrix Multiplication 矩阵乘法</h2><blockquote>
<p>举个熟悉的鸡兔同笼的问题. 鸡和兔共有 $a$只，共有脚 $b$ 个，用矩阵去表达这个问题。</p>
</blockquote>
<p>假设有鸡$x$只，兔$y$只</p>
<script type="math/tex; mode=display">\left\{\begin{matrix}
x+y=a\\
2x+4y=b
\end{matrix}\right.</script><p>用矩阵乘法表示：   </p>
<script type="math/tex; mode=display">\begin{bmatrix}
 1& 1\\
 2& 4
\end{bmatrix}
\begin{bmatrix}
 x\\
 y
\end{bmatrix}=
\begin{bmatrix}
 a\\
 b
\end{bmatrix}</script><p>通用的数学符号表达方式为：</p>
<script type="math/tex; mode=display">A\cdot X=U</script><p>在矩阵和向量中的每一个值都叫做元素（entries）<br>在计算矩阵乘法 $A\cdot B$ 时，每个元素都可以通过A矩阵的行和B矩阵的列做点乘得到。<strong>A矩阵的宽度必须要等于B矩阵的高度</strong>。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/Matrix_multiplication_diagram.png" alt="矩阵乘法示意图"></p>
<p>AB的乘积代表先做变换B再做变换A。我们习惯从左往右，但是矩阵计算是从右往左。直观的解释就是如果有两个连续的方程 $f(g(x))$ ，先要计算 $g(x)$, 再做 $f(x)$。   </p>
<p><strong>矩阵的结合律（associativity）</strong></p>
<script type="math/tex; mode=display">(AB)X=A(BX)</script><p><strong>补充</strong></p>
<script type="math/tex; mode=display">AB \neq BA</script><p><strong>Identity matrix 单位矩阵</strong></p>
<script type="math/tex; mode=display">IX=X</script><p>单位矩阵即对角全为一的矩阵。是一种“可有可无”的矩阵，单位矩阵的变换叫做恒等变换。</p>
<blockquote>
<p>在平面上，做90度逆时针旋转的变换</p>
</blockquote>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E6%97%8B%E8%BD%AC90%E5%BA%A6.png" alt="旋转90度"></p>
<script type="math/tex; mode=display">R=\begin{bmatrix}
 0& -1\\
 1& 0
\end{bmatrix}</script><script type="math/tex; mode=display">R\hat{i}=
\begin{bmatrix}
 0& -1\\
 1& 0
\end{bmatrix}
\begin{bmatrix}
 1\\
 0
\end{bmatrix}=
\begin{bmatrix}
 0\\
 1
\end{bmatrix}=\hat{j}</script><script type="math/tex; mode=display">R\hat{j}=
\begin{bmatrix}
 0& -1\\
 1& 0
\end{bmatrix}
\begin{bmatrix}
 0\\
 1
\end{bmatrix}=
\begin{bmatrix}
 -1\\
 0
\end{bmatrix}=-\hat{i}</script><script type="math/tex; mode=display">(x,y)\rightarrow (-y,x)</script><p>变换矩阵的每一列说明了对要变换的对象进行什么操作。<br>R的第一列就是对第一个基向量做R变换的结果，第二列是对第二个基向量做R变换后的结果。</p>
<p>最有意思的是，通过矩阵计算大大简化了需要用公式计算的计算量，如果考虑连续做两次90度逆时针变换：</p>
<script type="math/tex; mode=display">R^2=\begin{bmatrix}
 -1& 0\\
 0& -1
\end{bmatrix}=-I</script><script type="math/tex; mode=display">(x,y)\rightarrow (-x,-y)</script><script type="math/tex; mode=display">R^4=\begin{bmatrix}
 1& 0\\
 0& 1
\end{bmatrix}=I</script><h2 id="2-2-Matrix-Inverses-逆矩阵"><a href="#2-2-Matrix-Inverses-逆矩阵" class="headerlink" title="2.2 Matrix Inverses 逆矩阵"></a>2.2 Matrix Inverses 逆矩阵</h2><p>如果定义A的逆矩阵为M，则有</p>
<script type="math/tex; mode=display">AM=I</script><script type="math/tex; mode=display">MA=I</script><script type="math/tex; mode=display">M=A^{-1}</script><p>这里A需要是 $n\times n$的方阵，如果不是方阵的情况不在这里讨论。</p>
<p>对线性系统 $AX=B$ 的解可以使用逆矩阵。等式两边同时乘A的逆矩阵</p>
<script type="math/tex; mode=display">X=A^{-1}B</script><p><strong>公式（适合小矩阵）</strong></p>
<script type="math/tex; mode=display">A^{-1}=\frac{1}{det(A)}adj(A)</script><p>adj（adjoint）是 <strong>伴随矩阵</strong></p>
<p><strong>步骤（3*3矩阵)</strong>   </p>
<script type="math/tex; mode=display">A=\begin{bmatrix}
 2& 2& 2\\
 2& 4& 5\\
 1& 1& 2
\end{bmatrix}</script><p>1.首先要做的是，是找一个叫 <strong>余子式（minors）</strong> 的东西。   </p>
<p>余子式是去除了一些元素的行列式。要找到A矩阵一行一列的余子式，去掉这个元素所在的行和列，计算剩余部分的行列式，即</p>
<script type="math/tex; mode=display">\begin{vmatrix}
 X& X& X\\
 X& 4& 5\\
 X& 1& 2
\end{vmatrix}=
\begin{vmatrix}
 4& 5\\
 1& 2
\end{vmatrix}=3</script><p>得到矩阵A的余子式：</p>
<script type="math/tex; mode=display">\begin{pmatrix}
 3& -1& -2\\
 3&  1& -1\\
 3&  4& 2
\end{pmatrix}</script><p>2.找到另外一个矩阵，叫做 <strong>代数余子式（cofactors)</strong><br>代数余子式就是给余子式加上符号。根据棋盘图所示，+表示保留余子式值，-表示反转余子式的值。顺便一提，棋盘法可以同样用来做叉乘的符号判定。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E6%A3%8B%E7%9B%98%E5%9B%BE.png" alt="棋盘图"></p>
<p>得到代数余子式：</p>
<script type="math/tex; mode=display">\begin{pmatrix}
  3&  1& -2\\
 -3&  1& 1\\
  3& -4& 2
\end{pmatrix}</script><p>3.<strong>转置（transpose）</strong>，得到伴随矩阵<br>行列互换</p>
<script type="math/tex; mode=display">\begin{pmatrix}
  3&  -3& 3\\
  1&  1& -4\\
  -2& 1& 2
\end{pmatrix}=adj(A)</script><p>4.除以行列式</p>
<script type="math/tex; mode=display">A^{-1}=\frac{1}{3}\begin{pmatrix}
  3&  -3& 3\\
  1&  1& -4\\
  -2& 1& 2
\end{pmatrix}</script><h2 id="2-3-Equations-of-planes-平面的方程再探"><a href="#2-3-Equations-of-planes-平面的方程再探" class="headerlink" title="2.3 Equations of planes 平面的方程再探"></a>2.3 Equations of planes 平面的方程再探</h2><p>之前学习点积的时候就知道如何去检测正交或者垂直。平面的公式是：</p>
<script type="math/tex; mode=display">ax+by+cz=d</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%B9%B3%E9%9D%A2%E6%96%B9%E7%A8%8B.png" alt="平面方程"></p>
<p>第一种情况，平面过原点，知道法向量 $\overrightarrow{N}=\left \langle 1,5,10 \right \rangle$ , 对于在平面上的点 $P(x,y,z)$ , 有：</p>
<script type="math/tex; mode=display">\overrightarrow{OP}\cdot \overrightarrow{N}=0</script><script type="math/tex; mode=display">x+5y+10z=0</script><p>第二种情况，同样的法向量，平面过 $P0(2,1,-1)$    </p>
<script type="math/tex; mode=display">\overrightarrow{P_0P}\cdot \overrightarrow{N}=0</script><script type="math/tex; mode=display">x+5y+10z=-3</script><p>总结下两种情况下的特点：</p>
<ul>
<li>不同情况等式右边常数项不同</li>
<li>常数项是平面的平移距离的一个表示</li>
<li>等式左边的系数刚好和法向量对应</li>
</ul>
<p>一个有意思的事情是，这里又和叉乘联系起来了。<strong>平面方程的系数就是法向量，如何得到法向量呢？叉乘。</strong> 点乘，平面，叉乘就这么在一起了。</p>
<p>举个例子：</p>
<p>向量 $\overrightarrow{v}=\left \langle 1,2,-1 \right \rangle$ 和平面方程 $x+y+3z=5$ 是什么关系？   </p>
<p>快速确定平面方程的法向量，发现和已知向量不成比例，但是点积为0，说明向量垂直于法向量，所以和平面是平行的。如果把平面移到原点，如果向量和平面平行，向量的末端就在被移动到原点的平面上。    </p>
<h2 id="2-4-Linear-Systems-and-Planes-线性系统和平面"><a href="#2-4-Linear-Systems-and-Planes-线性系统和平面" class="headerlink" title="2.4 Linear Systems and Planes 线性系统和平面"></a>2.4 Linear Systems and Planes 线性系统和平面</h2><p>线性方程组的几何意义。<br>线性方程组，对于三纬空间来说（3*3线性方程组），方程组的每一个方程决定一个平面。解方程组的本质就是找平面的交点。<br>一般会有这三种情况：<br>三条交线交于一点：有唯一解</p>
<script type="math/tex; mode=display">X=A^{-1}B</script><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%B9%B3%E9%9D%A2%E4%BA%A4%E7%82%B9.png" alt="三面交于一点"></p>
<p>平面交线平行：没有解，条件矛盾，无法同时满足<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%B9%B3%E9%9D%A2%E4%BA%A4%E7%BA%BF%E5%B9%B3%E8%A1%8C.png" alt="交线平行"></p>
<p>平面交线重叠：有无数解，条件不足</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E4%B8%89%E9%9D%A2%E5%85%B1%E7%BA%BF.png" alt="交线重叠"></p>
<p>讨论下平面方程关于常数项d，d的数值并不是平移的距离，常数项除以法向量的长度才是平面到原点的距离。   </p>
<p>将这个问题回归到从代数上，矩阵不一定能够求逆是因为行列式有可能为0（矩阵的求逆公式）。所以，矩阵的行列式不为0，矩阵可求逆，方程组有解。  </p>
<p>行列式不为0是三个平面有唯一交点的情况，行列式为0是交线平行的情况。</p>
<h2 id="2-5-Solutions-to-Square-Systems-方阵系统的解"><a href="#2-5-Solutions-to-Square-Systems-方阵系统的解" class="headerlink" title="2.5 Solutions to Square Systems 方阵系统的解"></a>2.5 Solutions to Square Systems 方阵系统的解</h2><p>这一节从另一个角度去认识行列式为0，为什么方程会没有解。</p>
<p>有一种方程组叫做 <strong>齐次方程组(homogeneous systems)</strong>, 特点是常数项全部为0。方程组各项次数整齐，在数乘运算下不变。    </p>
<script type="math/tex; mode=display">AX=0</script><p>齐次方程总是存在一个平凡解(trivial solution)，即原点。几何学表示三个平面都过原点。   </p>
<p>第一种情况，A的行列式不为0</p>
<script type="math/tex; mode=display">AX=0\Leftrightarrow X=A^{-1}0=0</script><p>原点是唯一解。   </p>
<p>第二种情况，A的行列式为0<br>我们知道A中的项是方程组的系数，而方程组的系数又是平面的法向量。行列式为0，说明三个平面的法向量的行列式为0:</p>
<script type="math/tex; mode=display">\det(\overrightarrow{N_1},\overrightarrow{N_2},\overrightarrow{N_3})=0</script><p>这就意味着三个法向量共面（coplanar）（参考上一章）。用这三个法向量围成了一个不占任何体积的平行六面体。   </p>
<p>证明有无穷多解：<br>存在一条垂直于三个法向量所在平面且过原点的直线，平行于三个平面，而且现在面上，所以存在无穷多解。</p>
<p>如何求出这些解：<br>对法向量做叉乘，这就是方程的非平凡解（nontrivial solution）</p>
<hr>
<p>如果是一般情况，系统不再是齐次方程。</p>
<script type="math/tex; mode=display">AX=B</script><p>if $\det(A) \neq 0$</p>
<script type="math/tex; mode=display">AX=B\Leftrightarrow X=A^{-1}B</script><p>if $\det(A) = 0$ 无解或无穷多解</p>
<h1 id="3-Parametric-Equations-for-Curves-直线和曲线的参数方程"><a href="#3-Parametric-Equations-for-Curves-直线和曲线的参数方程" class="headerlink" title="3. Parametric Equations for Curves  直线和曲线的参数方程"></a>3. Parametric Equations for Curves  直线和曲线的参数方程</h1><h2 id="3-1-Equations-of-Lines-直线的方程"><a href="#3-1-Equations-of-Lines-直线的方程" class="headerlink" title="3.1  Equations of Lines 直线的方程"></a>3.1  Equations of Lines 直线的方程</h2><p>直线，可以用两个平面的交集表示，但这种方法并不高效率。更好的办法是 <strong>把直线当作运动点的轨迹</strong>。轨迹就是 <strong>参数方程</strong>。</p>
<p>例：确定经过点 $Q0=(-1,2,2)$ 和 $Q1=(1,3,-1)$ 的直线。<br>定义Q(t)是一个移动点，在t=0时刻，在Q0点。在直线上做匀速运动，在单位时间内，到达点Q1。直线的方程问题就转化为当时刻为t的时候，点Q(t)在什么位置？   </p>
<script type="math/tex; mode=display">\overrightarrow{Q_0Q(t)}=t\overrightarrow{Q_0Q_1}</script><p>分别以x(t),y(t),z(t)表示Q(t)的坐标，可以得到直线的参数方程：</p>
<script type="math/tex; mode=display">\left\{\begin{matrix}
x(t)=-1+2t\\
y(t)=2+t\\
z(t)=2-3t
\end{matrix}\right.</script><p>等价于：</p>
<script type="math/tex; mode=display">Q(t)=Q_0+t\overrightarrow{Q_0Q_1}</script><p>常数项（-1，2，2）是t0时刻的位置，一次项（2，1，-3）就是向量P0P1，告诉了点应该移动的方向。</p>
<h2 id="3-2-Intersection-of-a-Line-and-a-Plane-直线和平面的相交"><a href="#3-2-Intersection-of-a-Line-and-a-Plane-直线和平面的相交" class="headerlink" title="3.2 Intersection of a Line and a Plane  直线和平面的相交"></a>3.2 Intersection of a Line and a Plane  直线和平面的相交</h2><p>得到了直线的参数方程，再来一个平面 $x+2y+4z=7$，平面和直线是否相交，交点在哪里。如何判断点相对于平面的位置。<br>将点的坐标带入平面方程，可判断点相对平面的位置。带入参数方程，可以求出交点。<strong>带入方程实际上是运动轨迹和平面法向量做点积。</strong> 如果t的系数为0，说明运动轨迹平行于平面。等式成立说明轨迹在平面上。   </p>
<h2 id="3-3-General-Parametric-Equations-the-Cycloid-参数方程组-摆线"><a href="#3-3-General-Parametric-Equations-the-Cycloid-参数方程组-摆线" class="headerlink" title="3.3 General Parametric Equations: the Cycloid 参数方程组:摆线"></a>3.3 General Parametric Equations: the Cycloid 参数方程组:摆线</h2><p>除直线外，更普遍的是点的任意运动，如何用参数方程表示，以摆线为例子。<br>摆线：半径为a的轮子，沿着x轴方向滚动，轮子边缘上的一点产生的轨迹。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/Cycloid_f.gif" alt="Cycloid"></p>
<p>参数有很多种选择，这里使用角度代替时间参数t，这样可以使结果更加简单。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/Cycloid_h.png" alt="Cycloid"></p>
<script type="math/tex; mode=display">\overrightarrow{OP}=\overrightarrow{OT}+\overrightarrow{TC}+\overrightarrow{CP}</script><script type="math/tex; mode=display">\overrightarrow{OT}=\left \langle r\theta,0 \right \rangle</script><script type="math/tex; mode=display">\overrightarrow{TC}=\left \langle 0,r \right \rangle</script><script type="math/tex; mode=display">\overrightarrow{CP}=\left \langle -r\sin{\theta},-r\cos{\theta} \right \rangle</script><p>得到P的参数方程为：</p>
<script type="math/tex; mode=display">\overrightarrow{OP}=\left \langle r\theta-r\sin{\theta},r-r\cos{\theta} \right \rangle</script><h2 id="3-4-Point-Cusp-on-Cycloid-摆线的顶点"><a href="#3-4-Point-Cusp-on-Cycloid-摆线的顶点" class="headerlink" title="3.4 Point (Cusp) on Cycloid 摆线的顶点"></a>3.4 Point (Cusp) on Cycloid 摆线的顶点</h2><p>仔细思考，摆线在接近底面的时候到底是什么样子？<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/Cycloid-%E9%A1%B6%E7%82%B9.png" alt="摆线的顶点"></p>
<p>想要知道原点处到底发生了什么，就要自己的研究参数方程了，首先要做的就是近似。大家都知道的是，当角度足够小的时候，</p>
<script type="math/tex; mode=display">\sin{\theta}\sim 0</script><script type="math/tex; mode=display">\cos{\theta}\sim 1</script><p>但是将这个近似代入原参数方程中，并不能提供好的结果，我们需要更加准确的近似：<strong>泰勒展开</strong>。   </p>
<blockquote>
<p>定理：<br>设 n 是一个正整数。如果定义在一个包含 a 的区间上的函数 f 在 a 点处 n+1 次可导，那么对于这个区间上的任意 x，都有：</p>
<script type="math/tex; mode=display">f(x)=f(a)+\frac{f'(a)}{1!}(x-a)+\frac{f^{(2)}(a)}{2!}(x-a)^2+...+\frac{f^{(n)}(a)}{n!}(x-a)^n+R_n(x)</script><p>其中的多项式称为函数在$a$处的泰勒展开式，剩余的 <script type="math/tex">R_n(x)</script> 是泰勒公式的余项，是 $(x−a)^n$ 的高阶无穷小。</p>
</blockquote>
<p>得到三角函数的三阶泰勒展开：</p>
<script type="math/tex; mode=display">\sin(\theta)\approx\theta-\frac{1}{6}\theta^3</script><script type="math/tex; mode=display">\cos(\theta)\approx 1-\frac{1}{2}\theta^2</script><p>当半径为1，这时候的参数方程变成：   </p>
<script type="math/tex; mode=display">\overrightarrow{OP}=\left \langle \frac{1}{6}\theta^3,\frac{1}{2}\theta^2 \right \rangle</script><p>在原点处的斜率，当角度足够小时：</p>
<script type="math/tex; mode=display">\frac{y}{x}=\frac{3}{\theta}\rightarrow \infty</script><p>说明摆线在原点处有一个垂直的切线，选项是d。</p>
<h2 id="3-5-Velocity-and-Acceleration-速度和加速度"><a href="#3-5-Velocity-and-Acceleration-速度和加速度" class="headerlink" title="3.5  Velocity and Acceleration 速度和加速度"></a>3.5  Velocity and Acceleration 速度和加速度</h2><p>不用泰勒展开，换一个思路来研究点的运动，还是摆线，看看摆线的速度和加速度</p>
<script type="math/tex; mode=display">\overrightarrow{OP}=\left \langle r\theta-r\sin{\theta},r-r\cos{\theta} \right \rangle</script><p><strong>位置向量</strong> 可以表示任意时刻的点的坐标，角度和时间成正比，半径为1，以单位速度运动的摆线：</p>
<script type="math/tex; mode=display">\overrightarrow{r}=\left \langle t-\sin{t},1-\cos{t} \right \rangle</script><p><strong>速度向量（Velocity vector）：</strong>   </p>
<script type="math/tex; mode=display">\overrightarrow{v}=\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} t}=
\left \langle \frac{\mathrm{d} x}{\mathrm{d} t},\frac{\mathrm{d} y}{\mathrm{d} t} \right \rangle=
\left \langle 1-\cos{t},\sin{t}\right \rangle</script><p>在t=0时刻时，速度为0。<br><strong>速率（speed）：</strong></p>
<script type="math/tex; mode=display">\left | \overrightarrow{v} \right |=\sqrt{v_x^2+v_y^2}=
\sqrt{2-2\cos{t}}</script><p>当$t=\pi$时，瞬时速率最大，这是点的运动速度是轮子速度的两倍。<br><strong>加速度（Acceleration）：</strong></p>
<script type="math/tex; mode=display">\overrightarrow{a}=\frac{\mathrm{d} \overrightarrow{v}}{\mathrm{d} t}=
\left \langle \sin{t},\cos{t}\right \rangle</script><p>在 t=0 时刻时，</p>
<script type="math/tex; mode=display">\overrightarrow{a}=
\left \langle 0,1\right \rangle</script><p>说明摆线在原点处只有垂直于x轴的向上加速度。</p>
<h2 id="3-6-Velocity-and-Arc-Length-速度和弧长"><a href="#3-6-Velocity-and-Arc-Length-速度和弧长" class="headerlink" title="3.6 Velocity and Arc Length 速度和弧长"></a>3.6 Velocity and Arc Length 速度和弧长</h2><p><strong>单位切向量（unit tangent vector）：</strong> 用来表示轨迹运动的方向。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%8D%95%E4%BD%8D%E5%88%87%E5%90%91%E9%87%8F.png" alt="单位切向量"></p>
<script type="math/tex; mode=display">\widehat{T}=\frac{\overrightarrow{v}}{\left | v \right |}</script><p><strong>弧长（arc length）：</strong> 点运动沿着轨迹的长度。</p>
<script type="math/tex; mode=display">\left | \frac{\mathrm{d} s}{\mathrm{d} t} \right |=
\mathrm{speed/速率}=
\left | \overrightarrow{v}\right |</script><p>求摆线的弧长，需要对速率进行积分</p>
<script type="math/tex; mode=display">\int_{0}^{2\pi}\sqrt{2-2\sin{t}} \mathrm{d}t</script><p>发现，这个积分不太容易算。怎么用向量的思想解决问题呢？重新来看速度向量，我们把它分解下</p>
<script type="math/tex; mode=display">\overrightarrow{v}=\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} t}=
\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} s}
\frac{\mathrm{d} s}{\mathrm{d} t}=
\widehat{T}\frac{\mathrm{d} s}{\mathrm{d} t}</script><p>发现第一部分近似于切向量，第二部分是速率，为什么可以把第一部分近似为切向量，如图所示：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%8D%95%E4%BD%8D%E5%88%87%E5%90%91%E9%87%8F%E8%BF%91%E4%BC%BC.png" alt="近似为单位切向量"><br>由于移动的距离s是位置向量的模，在单位时间段足够小时，就可以近似的认为两者的比例为单位切向量：</p>
<script type="math/tex; mode=display">\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} s} \approx
\widehat{T}</script><p>现在新的速度方程也是又有大小，又有方向，而且聪明的使用了切向量的概念。</p>
<h2 id="3-7-例子：Kepler’s-Second-Law-开普勒第二定律"><a href="#3-7-例子：Kepler’s-Second-Law-开普勒第二定律" class="headerlink" title="3.7 例子：Kepler’s Second Law 开普勒第二定律"></a>3.7 例子：Kepler’s Second Law 开普勒第二定律</h2><p>这个例子说明为什么用向量的方法去分析运动是很好的方法。    </p>
<blockquote>
<p>普勒第二定律：<br>1.每个行星的运动都保持在一个平面内。<br>2.在相等时间内，太阳和运动着的行星的连线所扫过的面积都是相等的。   </p>
</blockquote>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E8%8B%A6%E5%A2%83/MIT%E5%A4%9A%E5%85%83%E5%BE%AE%E7%A7%AF%E5%88%86%E4%B8%80%EF%BC%9A%E5%90%91%E9%87%8F%E5%92%8C%E7%9F%A9%E9%98%B5-%E7%AC%94%E8%AE%B0/%E5%BC%80%E6%99%AE%E5%8B%92%E7%AC%AC%E4%BA%8C%E5%AE%9A%E5%BE%8B2.png" alt="开普勒第二定律"></p>
<script type="math/tex; mode=display">面积=
\frac{1}{2}\left | \overrightarrow{r}\times\Delta\overrightarrow{r}\right |=
\frac{1}{2}\left | \overrightarrow{r}\times\overrightarrow{v}\right |\Delta t</script><p>根据开普勒第二定律，叉乘的模是常数，向量叉乘的方向是常数。也就是：</p>
<script type="math/tex; mode=display">\overrightarrow{r}\times\overrightarrow{v}=constant</script><script type="math/tex; mode=display">\frac{\mathrm{d} }{\mathrm{d} t}(\overrightarrow{r}\times\overrightarrow{v})=0</script><script type="math/tex; mode=display">\frac{\mathrm{d} \overrightarrow{r}}{\mathrm{d} t}\times \overrightarrow{v}+\overrightarrow{r}\times\frac{\mathrm{d} \overrightarrow{v}}{\mathrm{d} t}=0</script><script type="math/tex; mode=display">\overrightarrow{v}\times \overrightarrow{v}+\overrightarrow{r}\times\overrightarrow{a}=0</script><script type="math/tex; mode=display">\overrightarrow{r}\times\overrightarrow{a}=0</script><script type="math/tex; mode=display">\overrightarrow{r}\parallel\overrightarrow{a}</script><p>加速度是和位矢平行的。由于加速度由万有引力引起的，这个力是永远指向施力物体的，也就是太阳。现在发现，在向量的观念里，开普勒第二定律和牛顿万有引力定律有着异曲同工的妙处。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-Vectors-Determinations-and-Planes-向量，行列式和平面&quot;&gt;&lt;a href=&quot;#1-Vectors-Determinations-and-Planes-向量，行列式和平面&quot; class=&quot;headerlink&quot; title=&quot;1. Vectors, Determinations and Planes 向量，行列式和平面&quot;&gt;&lt;/a&gt;1. Vectors, Determinations and Planes 向量，行列式和平面&lt;/h1&gt;&lt;h2 id=&quot;1-1-基础&quot;&gt;&lt;a href=&quot;#1-1-基础&quot; class=&quot;headerlink&quot; title=&quot;1.1 基础&quot;&gt;&lt;/a&gt;1.1 基础&lt;/h2&gt;&lt;p&gt;向量是一个既有大小又有方向的量。with both direction and magnitude/length。通过带箭头的直线将向量直观的表示出来。引入空间直角坐标系和单位向量是向量间计算的基础。   &lt;/p&gt;
&lt;p&gt;Pythagorean theory 毕达哥拉斯定理，勾股定理   &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;计算向量的长度&lt;/strong&gt; $\left | \overrightarrow{a} \right |$，多维向量还是通过勾股定理计算。   &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;向量的加法&lt;/strong&gt;    &lt;/p&gt;
&lt;script type=&quot;math/tex; mode=display&quot;&gt;\overrightarrow{A}+\overrightarrow{B}=\left \langle a_{1}+b_{1},a_{2}+b_{2} \right \rangle&lt;/script&gt;&lt;p&gt;向量是头尾加法，同一方向可以进行标量加法。    &lt;/p&gt;
    
    </summary>
    
      <category term="苦境" scheme="http://ihozh.com/categories/%E8%8B%A6%E5%A2%83/"/>
    
    
      <category term="微积分" scheme="http://ihozh.com/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/"/>
    
      <category term="公开课" scheme="http://ihozh.com/tags/%E5%85%AC%E5%BC%80%E8%AF%BE/"/>
    
      <category term="18.02" scheme="http://ihozh.com/tags/18-02/"/>
    
  </entry>
  
  <entry>
    <title>埃拉托色尼筛选法巧解质数问题</title>
    <link href="http://ihozh.com/2017/05/11/%E5%9F%83%E6%8B%89%E6%89%98%E8%89%B2%E5%B0%BC%E7%AD%9B%E9%80%89%E6%B3%95%E5%B7%A7%E8%A7%A3%E8%B4%A8%E6%95%B0%E9%97%AE%E9%A2%98/"/>
    <id>http://ihozh.com/2017/05/11/埃拉托色尼筛选法巧解质数问题/</id>
    <published>2017-05-11T05:32:09.000Z</published>
    <updated>2017-05-12T03:35:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>质数问题很有趣，也是常见的程序员面试问题，例如，找出N以内的所有质数。</p>
</blockquote>
<p>这个问题本身不难，直觉可以使用排除法。例如，从2到N，每个数判断是否有1和它本身以外的其他因数。当然，聪明一点，会发现我们根本不需要遍历N以内的所有数来判断N是否为质数，最多实验N的平方根以内数就足够。因为，N有因数的话，那么至少有一半的因数不会超过N的开平方。要判断100是不是质数，<code>100 = 2*50 = 4*25 = 5*20 = 10*10</code>，只要判断10以内有无100的因数即可。使用这种方法的时间复杂度为 $O(n*sqrt(n))$。</p>
<a id="more"></a>
<p>有没有更快速的算法呢？当然是有的——埃拉托色尼筛选法。</p>
<h1 id="埃拉托色尼筛选法"><a href="#埃拉托色尼筛选法" class="headerlink" title="埃拉托色尼筛选法"></a>埃拉托色尼筛选法</h1><p>埃拉托色尼筛选法（Sieve of Eratosthenes）简称埃氏筛法，由古希腊数学家埃拉托色尼提出，核心思想非常简单，先看动图感受一下：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E5%85%B0%E5%B1%B1/%E5%9F%83%E6%8B%89%E6%89%98%E8%89%B2%E5%B0%BC%E7%AD%9B%E9%80%89%E6%B3%95%E5%B7%A7%E8%A7%A3%E8%B4%A8%E6%95%B0%E9%97%AE%E9%A2%98Sieve_of_Eratosthenes_animation.gif" alt="Sieve of Eratosthenes"></p>
<p>首先将1排除，找到n以内所有质数方法：  </p>
<ol>
<li>创建从2到n的连续整数列表，(2,3,4,…,n)；  </li>
<li>初始化p=2，这是最小的质数；  </li>
<li>枚举所有p的倍数，除p外都标记为非质数，(2p,3p,4p,…)；</li>
<li>找到下一个没有标记大于p的数。如果没有，结束运算；如果有，将该值赋予p，重复步骤3;  </li>
<li>运算结束后，剩下所有未标记的数都是找到的质数。  </li>
</ol>
<p>这个算法的核心思想是：任何一个p值都是质数，如果存在一个合数，那么就应该存在一个质数都够标记它。算法的时间复杂度为O(n loglog n)。</p>
<p><strong>进一步简化的优化算法：</strong>   </p>
<ol>
<li>对于步骤3，可以不用从2p开始排除，而是直接从p^2开始。理由已经在开始讲过，所有的小于p^2的合数都因为有更小的因数而被排除。  </li>
<li>对于步骤4，当p^2大于n的时候停止计算。</li>
</ol>
<p><strong>另一个优化思路：</strong>只初始化奇数列表，这种方法可以被概括为轮分解(Wheel factorization)，是一种效率更高的寻找质数的办法。</p>
<h1 id="算法实现"><a href="#算法实现" class="headerlink" title="算法实现"></a>算法实现</h1><p>这里推荐python匿名函数的写法，和埃氏筛法一样简洁明了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> math</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getPrime</span><span class="params">(n)</span>:</span></div><div class="line">	<span class="keyword">return</span> filter(<span class="keyword">lambda</span> x: <span class="keyword">not</span> [x%i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(math.sqrt(x))+<span class="number">1</span>) <span class="keyword">if</span> x%i == <span class="number">0</span>], range(<span class="number">2</span>,n+<span class="number">1</span>))</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;质数问题很有趣，也是常见的程序员面试问题，例如，找出N以内的所有质数。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个问题本身不难，直觉可以使用排除法。例如，从2到N，每个数判断是否有1和它本身以外的其他因数。当然，聪明一点，会发现我们根本不需要遍历N以内的所有数来判断N是否为质数，最多实验N的平方根以内数就足够。因为，N有因数的话，那么至少有一半的因数不会超过N的开平方。要判断100是不是质数，&lt;code&gt;100 = 2*50 = 4*25 = 5*20 = 10*10&lt;/code&gt;，只要判断10以内有无100的因数即可。使用这种方法的时间复杂度为 $O(n*sqrt(n))$。&lt;/p&gt;
    
    </summary>
    
      <category term="兰山" scheme="http://ihozh.com/categories/%E5%85%B0%E5%B1%B1/"/>
    
    
      <category term="Python" scheme="http://ihozh.com/tags/Python/"/>
    
      <category term="算法" scheme="http://ihozh.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Mac 命令行一键隐藏屏幕</title>
    <link href="http://ihozh.com/2017/05/07/Mac%E9%80%9A%E8%BF%87%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%A7%A3%E5%86%B3%E4%B8%80%E9%94%AE%E9%9A%90%E8%97%8F%E5%B1%8F%E5%B9%95%E5%92%8C%E5%9B%9E%E5%A4%8D/"/>
    <id>http://ihozh.com/2017/05/07/Mac通过命令行解决一键隐藏屏幕和回复/</id>
    <published>2017-05-08T02:16:49.000Z</published>
    <updated>2017-05-08T04:01:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>一键清屏这个功能非常好用，但是发现mac没有直接提供清屏的功能，有一些软件能够实现这个功能，但是实在没有必要。通过两行简单的命令行命令就可以实现。</p>
<p>新建’hideDesk.command’文件，command和sh文件都可以，command后缀直接执行。将下边代码粘贴在文件内：</p>
<a id="more"></a>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>!/bin/sh</div><div class="line">let deskVis=$(defaults read com.apple.finder CreateDesktop -bool)</div><div class="line"></div><div class="line">if [ "$deskVis" = "1" ]; then</div><div class="line">	defaults write com.apple.finder CreateDesktop -bool false;killall Finder;say icons hidden</div><div class="line">else</div><div class="line">	defaults write com.apple.finder CreateDesktop -bool true;killall Finder;say icons visible</div><div class="line">fi</div></pre></td></tr></table></figure>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E5%85%B0%E5%B1%B1/Hide%20Desktop/hide_desktop1.gif" alt="shell code"></p>
<p>可以直接看到效果。如果不想要声音提示，可以删去say这一段。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E5%85%B0%E5%B1%B1/Hide%20Desktop/hide_desktop2.gif" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一键清屏这个功能非常好用，但是发现mac没有直接提供清屏的功能，有一些软件能够实现这个功能，但是实在没有必要。通过两行简单的命令行命令就可以实现。&lt;/p&gt;
&lt;p&gt;新建’hideDesk.command’文件，command和sh文件都可以，command后缀直接执行。将下边代码粘贴在文件内：&lt;/p&gt;
    
    </summary>
    
      <category term="兰山" scheme="http://ihozh.com/categories/%E5%85%B0%E5%B1%B1/"/>
    
    
      <category term="Mac" scheme="http://ihozh.com/tags/Mac/"/>
    
      <category term="小程序" scheme="http://ihozh.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
    
      <category term="shell" scheme="http://ihozh.com/tags/shell/"/>
    
  </entry>
  
  <entry>
    <title>Nginx + uWSGI 部署Django站点</title>
    <link href="http://ihozh.com/2017/05/04/Nginx+uwsgi%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/"/>
    <id>http://ihozh.com/2017/05/04/Nginx+uwsgi部署Django站点/</id>
    <published>2017-05-04T07:10:29.000Z</published>
    <updated>2017-05-07T12:14:22.000Z</updated>
    
    <content type="html"><![CDATA[<p>Django有Apache和Nginx两种常见部署方式 </p>
<p>主要工具：  </p>
<ul>
<li>一台远程服务器</li>
<li>Nginx</li>
<li>uWSGI</li>
<li>Django</li>
</ul>
<a id="more"></a>
<p>知识点：</p>
<ul>
<li>站点结构</li>
<li>Nginx结构</li>
<li>debug方式</li>
</ul>
<p>主机使用的是DigitalOcean家的基础版ubuntu，版本16.01。</p>
<h1 id="从裸机开始的环境准备"><a href="#从裸机开始的环境准备" class="headerlink" title="从裸机开始的环境准备"></a>从裸机开始的环境准备</h1><h2 id="基础环境"><a href="#基础环境" class="headerlink" title="基础环境"></a>基础环境</h2><p>zsh，oh-my-zsh，vimrc从github上pull过来，一切都是熟悉的感觉。<br>apt-get 要更新。</p>
<h2 id="Python3-pip-和-虚拟环境"><a href="#Python3-pip-和-虚拟环境" class="headerlink" title="Python3/pip 和 虚拟环境"></a>Python3/pip 和 虚拟环境</h2><p>主要是为了环境简洁和适应版本</p>
<h2 id="Nginx-安装"><a href="#Nginx-安装" class="headerlink" title="Nginx 安装"></a>Nginx 安装</h2><p>远程服务器这个是第一步的，没有服务器，开发调试都是头疼的事情。Nginx是一款反向代理服务器，可以让网站的内容呈现给客户。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> install</div><div class="line">sudo apt-get install nginx</div><div class="line"><span class="meta"></span></div><div class="line"># basic operation</div><div class="line">sudo /etc/init.d/nginx start</div><div class="line">sudo /etc/init.d/nginx stop</div><div class="line">sudo /etc/init.d/nginx restart</div><div class="line"></div><div class="line">or:</div><div class="line">sudo service nginx start</div><div class="line">sudo service nginx stop</div><div class="line">sudo service nginx restart</div></pre></td></tr></table></figure>
<p>启动后访问服务器ip，会看到<strong>Welcome to nginx!</strong>信息。  </p>
<h2 id="uWSGI-安装"><a href="#uWSGI-安装" class="headerlink" title="uWSGI 安装"></a>uWSGI 安装</h2><p>uWSGI是实现了WSGI的服务器。WSGI一个Web接口。提供规范化协议，提高服务器的工作效率。uWSGI本身已经可以胜任服务器的工作，为什么要再前面挡一个Nginx，这是出于更好的安全性，更有效率的工作和Nginx作为专业的服务器的优势。可以详见<a href="https://serverfault.com/questions/590819/why-do-i-need-nginx-when-i-have-uwsgi" target="_blank" rel="external">这个讨论</a>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>install</div><div class="line">apt-get install python-dev</div><div class="line">sudo pip install uwsgi --upgrade</div></pre></td></tr></table></figure>
<p>用wWSGI挂起一个最简单的程序，创建一个文件命名test.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># test.py</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">application</span><span class="params">(env, start_response)</span>:</span></div><div class="line">    start_response(<span class="string">'200 OK'</span>, [(<span class="string">'Content-Type'</span>,<span class="string">'text/html'</span>)])</div><div class="line">    <span class="comment">#return ["Hello World"] # python2</span></div><div class="line">    <span class="keyword">return</span> [<span class="string">b"Hello World"</span>] <span class="comment"># python3</span></div></pre></td></tr></table></figure>
<p>用wWSGI挂起：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --http :8000 --wsgi-file test.py</div></pre></td></tr></table></figure>
<p>这条命令是说，使用http协议，8000端口，加载指定文件。文件很简单，收到GET请求后，返回<code>Hello World</code>，在浏览器输入<code>ip:8000</code>就可以看到结果了。</p>
<h2 id="安装Django"><a href="#安装Django" class="headerlink" title="安装Django"></a>安装Django</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>install</div><div class="line">pip install django</div><div class="line"><span class="meta"></span></div><div class="line">#create project</div><div class="line">django-admin.py startproject project-name</div><div class="line"><span class="meta"></span></div><div class="line">#create app</div><div class="line">python manage.py startapp app-name</div><div class="line"><span class="meta"></span></div><div class="line">#同步数据库</div><div class="line">python manage.py makemigrations</div><div class="line">python manage.py migrate</div><div class="line"><span class="meta"></span></div><div class="line">#开发服务器</div><div class="line">python manage.py runserver #localhost</div><div class="line">python manage.py runserver 0.0.0.0:8000  #ip:8000端口</div></pre></td></tr></table></figure>
<h1 id="理解Nginx服务器的结构"><a href="#理解Nginx服务器的结构" class="headerlink" title="理解Nginx服务器的结构"></a>理解Nginx服务器的结构</h1><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/Nginx.png" alt="Nginx结构"></p>
<h2 id="最重要的文件-一开始就要加载"><a href="#最重要的文件-一开始就要加载" class="headerlink" title="最重要的文件:一开始就要加载"></a>最重要的文件:一开始就要加载</h2><p>默认下，Nginx会安装在<code>/usr/local/nginx</code>，所有的配置文件在<code>/etc/nginx</code>下，最主要的配置文件是 <code>/etc/nginx/nginx.conf</code>，这个文件建议放在git上，或者进行周期性备份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.$(date "+%b_%d_%Y_%H.%M.%S")</div></pre></td></tr></table></figure>
<p><code>nginx.conf</code> 的结构如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">user www-data;</div><div class="line">worker_processes auto;</div><div class="line">pid /run/nginx.pid;</div><div class="line"></div><div class="line">events &#123;</div><div class="line">	worker_connections 768;</div><div class="line">&#125;</div><div class="line"></div><div class="line">http &#123;</div><div class="line">	......</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>nginx.conf</code> 配置了主要的工作功能，<code>include</code>允许从后面的地址中找到配置文件，这样可以让主配置文件看起来更加精简，但是多层套用<code>include</code>也不推荐，让代码不易读。从默认的配置文件可以看出，<code>/etc/nginx/conf.d/</code>里所有的配置文件和<code>/etc/nginx/sites-enalbed/</code>里的配置文件都会在一开始被加载。log文件在<code>/var/log/nginx/</code>下。</p>
<h2 id="HTTP模块：全局配置"><a href="#HTTP模块：全局配置" class="headerlink" title="HTTP模块：全局配置"></a>HTTP模块：全局配置</h2><p>HTTP 模块会处理所有来自于网络的HTTP请求，这是Nginx的大门。<br>重点说下<code>/etc/nginx/sites-enalbed/</code>这个目录，它可以让不同的虚拟域名分开来。一般都是通过软连接将配置文件连接进这个目录，很容易修改，ngnix提供了一个配置模版：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp /etc/nginx/sites-available/default /etc/nginx/sites-available/example.com</div></pre></td></tr></table></figure>
<h2 id="Server模块：虚拟域名的配置"><a href="#Server模块：虚拟域名的配置" class="headerlink" title="Server模块：虚拟域名的配置"></a>Server模块：虚拟域名的配置</h2><p>在<code>/etc/nginx/sites-enalbed/</code>下配置的格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">	listen 80</div><div class="line">	root /usr/share/nginx/html;</div><div class="line">	</div><div class="line">	server_name localhost;</div><div class="line">	</div><div class="line">	location / &#123;</div><div class="line">	</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>server 模块是用户修改量最大的地方。对于每一个虚拟域名都可以有不同的配置文件。<code>/usr/share/nginx/html</code>这个路径现在已经是Nginx默认存放静态文件的路径了，不需要再配置。</p>
<p><strong>listen:</strong> 用来监听端口<br><strong>server_name:</strong> 自己网站的域名  </p>
<blockquote>
<p>是否可以使用不有效的域名呢？<br>完全可以，在局域网中，是一个很好的办法。</p>
</blockquote>
<p><strong>log:</strong> log文件，HTTP模块已经设置过，在server模块里可以更细致。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">access_log logs/example.access.log;</div><div class="line">access_log /srv/www/example.com/logs/access.log;</div></pre></td></tr></table></figure>
<p>建议使用完全路径，相对路径是与现在的路径下部分匹配的，不好控制。</p>
<p><strong>location:</strong>文件系统配置<br><code>location</code>设置可以让服务器去应答一些要服务器资源的请求。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># http://example.com/blog/</div><div class="line"></div><div class="line">location /blog/ &#123; &#125;</div></pre></td></tr></table></figure>
<p>注意字符串的匹配是最佳匹配，Nginx会选择匹配的最好的location。更复杂的匹配情况请参照官方文件。</p>
<h2 id="部署一个Nginx的最小Web结构"><a href="#部署一个Nginx的最小Web结构" class="headerlink" title="部署一个Nginx的最小Web结构"></a>部署一个Nginx的最小Web结构</h2><p>实践是检验真理的唯一标准，这里部署一个Nginx的最小结构，看看Nginx能不能正常工作。</p>
<p>linux 新建用户名用于部署Nginx并赋予权限.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">visudo</div><div class="line"><span class="meta">#</span> 添加权限：</div><div class="line">username    ALL=(ALL) ALL</div></pre></td></tr></table></figure>
<p>将<code>nginx.conf</code>用户名修改为当前用户。<br>在当前用户的根目录下创建如下结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mysite:</div><div class="line">	- mysite.conf</div><div class="line">	- www</div><div class="line">	- media</div><div class="line">		-test.png	</div><div class="line">	- log</div></pre></td></tr></table></figure>
<p>最简单的目标就是通过ip访问网站里的静态内容。简单的配置下，注意使用绝对路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">server &#123;</div><div class="line">	listen 8000;</div><div class="line">	server_name mysite.com</div><div class="line">	charset utf_8;</div><div class="line"></div><div class="line">	access_log /home/username/mysite/log/access.log;</div><div class="line">	error_log /home/username/mysite/log/error_log;</div><div class="line"></div><div class="line">	location /media/ &#123;</div><div class="line">		alias /home/username/mysite/media/;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"># 命令行软连接到Nginx</div><div class="line">sudo ln -s /home/username/mysite/mysite.conf /etc/nginx/sites-enabled/</div></pre></td></tr></table></figure>
<p>重启Nginx后，在 <code>http://mysite.com/media/test.png</code>能够看到正常显示内容就说名Nginx正常工作了。log文件显示正常。</p>
<h2 id="常见的错误"><a href="#常见的错误" class="headerlink" title="常见的错误"></a>常见的错误</h2><h3 id="403-forbidden"><a href="#403-forbidden" class="headerlink" title="403 forbidden"></a>403 forbidden</h3><p>这里就要注意下用户名了，很多时候登录一台主机用户是root，而Nginx用户不是root，所以忽略了用户名的部署多会遇到这个问题。  </p>
<ol>
<li>可以将Nginx的用户名改为root，这样风险会很大。  </li>
<li>网站静态内容部署在当前用户目录下，如列子所示。  </li>
<li>在<code>/usr/share/nginx/html</code>下部署静态文件或软连接到网站目录。  </li>
</ol>
<h3 id="404-notfound"><a href="#404-notfound" class="headerlink" title="404 notfound"></a>404 notfound</h3><p>一般出现这个问题是目录的配置出现问题，使用绝对路径可解决</p>
<h2 id="调试方法"><a href="#调试方法" class="headerlink" title="调试方法"></a>调试方法</h2><p>最好的办法就是log文件了，每次的请求，错误记录都会非常详细。</p>
<h1 id="理解Django部署结构"><a href="#理解Django部署结构" class="headerlink" title="理解Django部署结构"></a>理解Django部署结构</h1><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/djangoStructureAll.png" alt="djangoe结构"></p>
<h2 id="每个环节都要理解"><a href="#每个环节都要理解" class="headerlink" title="每个环节都要理解"></a>每个环节都要理解</h2><p>到现在为止，已经可以分别用Nginx和uWSGI挂起服务器了。说明这两个部分都是通的：  </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/web-Server.png" alt="web-server"></p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/web-uWSGI-Python.png" alt="web-uWSGI-Python">  </p>
<p><strong>用uWSGI挂起Django：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --http :8000 --module mysite.wsgi</div></pre></td></tr></table></figure>
<p>这里sWSGI会找到 mysite下的wsgi的配置文件，即<code>mysite/wsgi.py</code>如果看到Django的“it worked！”信息，则说明Django被成功挂起。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/web-uWSGI-Django.png" alt="web-uWSGI-Django"> </p>
<h2 id="通过socket连接Nginx和uWSGI"><a href="#通过socket连接Nginx和uWSGI" class="headerlink" title="通过socket连接Nginx和uWSGI"></a>通过socket连接Nginx和uWSGI</h2><p>socket中文翻译为套接字，它的作用就像一个连接器，比方说把两段水管连接起来，每段管子都有自己不同的编号，下面就来试验下套接字的作用。<br>带socket的Nginx配置多了这个部分：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">upstream django &#123;</div><div class="line">	# server unit:///path/to/yourmysite/mysite.sock;</div><div class="line">	server 127.0.0.1:8022; #for a webport socket</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这是要说明监听来自8022端口的请求，8022口做什么了呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --socket :8022 --wsgi-file test.py</div></pre></td></tr></table></figure>
<p>8022挂起了最先的python测试文件，如果有GET请求，则返回hello world。Nginx则设置为监听8023端口。通过socket，有检测到8023口的外部请求，则交给8022端口去处理，这就是socket的作用，非常灵活。也说明了这一套结构都通了：</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/Web-Nginx-Socket-uWSGI-Python.png" alt="Web-Nginx-Socket-uWSGI-Python"></p>
<h2 id="Django-sockect"><a href="#Django-sockect" class="headerlink" title="Django sockect"></a>Django sockect</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">upstream django &#123;</div><div class="line">    server unit:///path/to/yourmysite/mysite.sock;</div><div class="line">    # server 127.0.0.1:8022; #for a webport socket</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>重启Nginx，挂起uWSGI：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --socket mysite.sock --wsgi-file test.py</div></pre></td></tr></table></figure>
<p>在当前项目下可以看到生成了空的文件mysite.sock，2023口测试通过。</p>
<p>最后拉起整个Django项目：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --socket mysite.sock --module mysite.wsgi</div></pre></td></tr></table></figure>
<p>看到Django工作界面，完成，Done！<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/%E6%90%8F%E6%B5%AA/Nginx%20+%20uWSGI%20%E9%83%A8%E7%BD%B2Django%E7%AB%99%E7%82%B9/Web-Nginx-Socket-uWSGI-Django.png" alt="Web-Nginx-Socket-uWSGI-Python"></p>
<h2 id="常见错误"><a href="#常见错误" class="headerlink" title="常见错误"></a>常见错误</h2><h3 id="connect-to-unix-mysite-sock-failed-2-No-such-file-or-directory"><a href="#connect-to-unix-mysite-sock-failed-2-No-such-file-or-directory" class="headerlink" title="connect() to unix:mysite.sock failed (2: No such file or directory)"></a>connect() to unix:mysite.sock failed (2: No such file or directory)</h3><p>基本是路径设置问题，upstrem和socket都要使用绝对路径。</p>
<h3 id="connect-to-uunix-mysite-sock-failed-13-Permission-denied"><a href="#connect-to-uunix-mysite-sock-failed-13-Permission-denied" class="headerlink" title="connect() to uunix:mysite.sock failed (13: Permission denied)"></a>connect() to uunix:mysite.sock failed (13: Permission denied)</h3><p>添加socket权限：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">uwsgi --socket mysite.sock --wsgi-file test.py --chmod-socket=664 # (more sensible)</div></pre></td></tr></table></figure>
<p>参考资料：<br><a href="https://docs.djangoproject.com/en/1.11/" target="_blank" rel="external">Django Document</a> django官方最权威的参考文档<br><a href="http://uwsgi-docs.readthedocs.io/en/latest/tutorials/Django_and_nginx.html" target="_blank" rel="external">Setting up Django and your web server with uWSGI and nginx</a> uWSGI提供的参考文档，有些小问题<br><a href="https://www.digitalocean.com/community/tutorials/how-to-serve-django-applications-with-uwsgi-and-nginx-on-ubuntu-16-04#setting-up-the-uwsgi-application-server" target="_blank" rel="external">How To Serve Django Applications with uWSGI and Nginx on Ubuntu 16.04</a> DigitalOcean提供的部署指导<br><a href="https://www.linode.com/docs/web-servers/nginx/how-to-configure-nginx" target="_blank" rel="external">How to Configure nginx</a> 如何配置Nginx</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Django有Apache和Nginx两种常见部署方式 &lt;/p&gt;
&lt;p&gt;主要工具：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一台远程服务器&lt;/li&gt;
&lt;li&gt;Nginx&lt;/li&gt;
&lt;li&gt;uWSGI&lt;/li&gt;
&lt;li&gt;Django&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="搏浪" scheme="http://ihozh.com/categories/%E6%90%8F%E6%B5%AA/"/>
    
    
      <category term="Nginx" scheme="http://ihozh.com/tags/Nginx/"/>
    
      <category term="uWSGI" scheme="http://ihozh.com/tags/uWSGI/"/>
    
      <category term="Django" scheme="http://ihozh.com/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>学生可享受的优惠汇总-持续更新</title>
    <link href="http://ihozh.com/2017/05/03/%E5%AD%A6%E7%94%9F%E5%8F%AF%E4%BA%AB%E5%8F%97%E7%9A%84%E4%BC%98%E6%83%A0%E6%B1%87%E6%80%BB-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"/>
    <id>http://ihozh.com/2017/05/03/学生可享受的优惠汇总-持续更新/</id>
    <published>2017-05-03T08:39:39.000Z</published>
    <updated>2017-05-03T09:45:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>撸羊毛要从学生抓起</p>
<p>2017年5月3日 更新</p>
<h2 id="技术类-github-学生开发包"><a href="#技术类-github-学生开发包" class="headerlink" title="(技术类) github 学生开发包"></a>(技术类) github 学生开发包</h2><p>Student Developer Pack, <a href="https://education.github.com/pack" target="_blank" rel="external">申请链接</a> </p>
<p>实践才是硬道理，码农也要赢在起跑线上</p>
<a id="more"></a>
<p>包括：</p>
<ul>
<li>ATOM：免费使用震撼的ATOM编辑器</li>
<li>AWS：亚马逊免费云技术学习，最高$110额度奖励</li>
<li>Bitnami：开源web服务商，一年免费</li>
<li>CART：数据分析平台，2年免费使用升级服务</li>
<li>CrowdFlower：数据服务公司，可使用他家数据平台</li>
<li>DataDog：他家专做系统监控，专业账户，免费2年使用</li>
<li>DigitalOcean：云服务提供商，$50额度奖励</li>
<li>Flatrion School：编程培训界的哈佛商业学院，价值$149的一月会员</li>
<li>GitHub：版本控制代码托管，无限制的私有仓库功能</li>
<li>GitKraken：高逼格Git客户端，1年专业账户</li>
<li>HackHands：在线代码帮助中心，7*24小时，$25额度奖励</li>
<li>Microsoft Imagine：包括Azure，VisualStudio一票工具，免费</li>
<li>Namecheap：域名提供商，一年SSL证书，一年.me域名。</li>
<li>SendGrid：邮件服务商，每月15K免费电子邮件</li>
<li>Stripe：在线移动支付工具，首1000刀免除手续费</li>
<li>Taplytics：动态A/B测试，免费6个月</li>
<li>Thinkful：在线编程学习，一个月免费学习</li>
<li>Transiffex：位置信息平台，一年免费Starter Plan</li>
<li>Travis CI：持续集成，可private build</li>
<li>Udacity：硅谷在线计算机学习，一个月免费学习任何时候课程</li>
<li>UnrealEngine：游戏引擎，免费使用</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;撸羊毛要从学生抓起&lt;/p&gt;
&lt;p&gt;2017年5月3日 更新&lt;/p&gt;
&lt;h2 id=&quot;技术类-github-学生开发包&quot;&gt;&lt;a href=&quot;#技术类-github-学生开发包&quot; class=&quot;headerlink&quot; title=&quot;(技术类) github 学生开发包&quot;&gt;&lt;/a&gt;(技术类) github 学生开发包&lt;/h2&gt;&lt;p&gt;Student Developer Pack, &lt;a href=&quot;https://education.github.com/pack&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;申请链接&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;实践才是硬道理，码农也要赢在起跑线上&lt;/p&gt;
    
    </summary>
    
      <category term="兰山" scheme="http://ihozh.com/categories/%E5%85%B0%E5%B1%B1/"/>
    
    
      <category term="生活" scheme="http://ihozh.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>搭建经济的个人站点</title>
    <link href="http://ihozh.com/2017/05/03/%E6%90%AD%E5%BB%BA%E7%BB%8F%E6%B5%8E%E7%9A%84%E4%B8%AA%E4%BA%BA%E7%AB%99%E7%82%B9/"/>
    <id>http://ihozh.com/2017/05/03/搭建经济的个人站点/</id>
    <published>2017-05-03T06:44:32.000Z</published>
    <updated>2017-05-04T20:53:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>昨天看到阿里云给共享虚拟主机做广告，免费一年的虚拟主机加上安全服务一共六元，心里一动就拿下尝尝鲜。兴致勃勃地打开控制台，第一次体验阿里云的产品，看看究竟是何方圣神。</p>
<p>阿里云的虚拟主机权限很低，稍感失望。只能通过FTP上传文件和网站。而且要要绑定域名，备案后才能正常访问。这个6元的共享主机用来部署个人博客，文件系统都是非常不错的。这里特别说下，阿里云给学生提供特别的优惠，学生用户可以注册货真价实的ECS服务器，一个月不到10元，打了一折不到。<br><a id="more"></a></p>
<p>6元用到阿里云的服务也是值的，但是如果一定要找免费的空间的话，也不是没有。一个是在github page可搭建hexo的博客，还有一个就是<a href="https://www.000webhost.com/964022.html" target="_blank" rel="external">000webhost</a>（也就是三蛋网）的免费空间。github page搭建稍微麻烦，三蛋网却提供一键傻瓜式搭建个人站点。1分钟就可登录自己wordpress博客了。发现三蛋会给新的博客添加自己的评论，不知这种算不算是防不胜防的广告，天底下没有免费的午餐嘛。还有个缺点，三蛋说是提供FTP，但是我换了多个工具都没有和服务器连接成功，倒是他家自带的网页传输一直好用。</p>
<p>又想有一台服务器，可以随便折腾，又不想备案，那么境外的云服务商就是最好的选择。vultr，digitalocean，Linode算是差不多的三家，一个月5刀的服务器差距不大，vultr最低到2.5刀。而且这三家都是注册就送，买一送一，也就是说充10刀送十刀。按时间收费的服务器对于我这种小农来说真是福音。一年的费用就是一顿饭钱，非常爽啊。现在自己在digitalocean部署了django网站，非常顺利，到国内的延迟也稳定在200ms。顺便提下三家的控制台，digitalocean最简单，除了基本信息和监控好像就没啥了，就是简洁。vultr，linode就专业的多，功能也多，还有通过手机app监控控制服务器的功能。</p>
<p>为啥没提AWS和Azure，计时收费花花的开着服务器就是开着烧钱机啊。虽然aws给每个账号第一年有免费的ec2提供，国内访问也是一大问题。但是AWS的云服务真的是目前用过最好的了，控制台就是行业的标杆。</p>
<p>最后提供资源链接：</p>
<p><a href="digitalocean">000webhost</a> 免费空间<br><a href="https://m.do.co/c/10c818488510" target="_blank" rel="external">DigitalOcean</a> 通过连接可获得$10奖励<br><a href="https://www.linode.com/?r=10daa75601f70e38a05c192f47281fb795c9c60f" target="_blank" rel="external">Linode</a> 通过连接可获得$10奖励  </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;昨天看到阿里云给共享虚拟主机做广告，免费一年的虚拟主机加上安全服务一共六元，心里一动就拿下尝尝鲜。兴致勃勃地打开控制台，第一次体验阿里云的产品，看看究竟是何方圣神。&lt;/p&gt;
&lt;p&gt;阿里云的虚拟主机权限很低，稍感失望。只能通过FTP上传文件和网站。而且要要绑定域名，备案后才能正常访问。这个6元的共享主机用来部署个人博客，文件系统都是非常不错的。这里特别说下，阿里云给学生提供特别的优惠，学生用户可以注册货真价实的ECS服务器，一个月不到10元，打了一折不到。&lt;br&gt;
    
    </summary>
    
      <category term="搏浪" scheme="http://ihozh.com/categories/%E6%90%8F%E6%B5%AA/"/>
    
    
      <category term="Web" scheme="http://ihozh.com/tags/Web/"/>
    
      <category term="服务器" scheme="http://ihozh.com/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>SSL初探</title>
    <link href="http://ihozh.com/2017/04/30/SSL%E5%88%9D%E6%8E%A2/"/>
    <id>http://ihozh.com/2017/04/30/SSL初探/</id>
    <published>2017-04-30T07:03:55.000Z</published>
    <updated>2017-05-03T19:39:21.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近需要了解一些关于SSL的知识，绘制一张思维导图，看起来轻松多了。<br>SSL(Secure Sockets Layer 安全套接层)，是https的主战场。曾经的http用户和服务器之间是明文传播，安全性可想而知了。https 也就是http over SSL，服务器和用户之间传送的信息是加密过的。<a id="more"></a>对于一个商业性的网站来说，SSL是必须的，颁发SSL的机构不少，从昂贵到免费，应有尽有。当然鼎鼎大名的就要数领头羊Symantec了。SSL证书的选择也要根据自己网站的规模，没有最好，只有更好。SSL也不能保证网络的绝对安全。WoSign 和 StartCom 已经被苹果和多家主流浏览器商封杀，而被当时他们喷击的免费SSL机构let’s encrypt却走向了主流。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/techWebSecuritySSL.jpg" alt="webSSL"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近需要了解一些关于SSL的知识，绘制一张思维导图，看起来轻松多了。&lt;br&gt;SSL(Secure Sockets Layer 安全套接层)，是https的主战场。曾经的http用户和服务器之间是明文传播，安全性可想而知了。https 也就是http over SSL，服务器和用户之间传送的信息是加密过的。
    
    </summary>
    
      <category term="搏浪" scheme="http://ihozh.com/categories/%E6%90%8F%E6%B5%AA/"/>
    
    
      <category term="Web" scheme="http://ihozh.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>eclipse搭建scala语言的spark环境</title>
    <link href="http://ihozh.com/2016/04/17/eclipse%E6%90%AD%E5%BB%BAscala%E8%AF%AD%E8%A8%80%E7%9A%84spark%E7%8E%AF%E5%A2%83/"/>
    <id>http://ihozh.com/2016/04/17/eclipse搭建scala语言的spark环境/</id>
    <published>2016-04-17T04:24:00.000Z</published>
    <updated>2017-05-01T06:58:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>在eclipse上搭建使用Scala IDE 和 Maven 的 Spark 项目。<br><a id="more"></a><br>系统：OS X EI Capitan 10.11.4<br>Eclipse: Mars.2<br>要确定eclipse为Java环境 (JDK6,JDK7 or JDK8)  </p>
<h2 id="安装scala-IDE-plugin"><a href="#安装scala-IDE-plugin" class="headerlink" title="安装scala IDE plugin"></a>安装scala IDE plugin</h2><p>最简单的方法直接在scala官网下载IDE，<a href="http://scala-ide.org/download/sdk.html" target="_blank" rel="external">scala IDE</a>    </p>
<p>如果在现有的eclipse上加入scala插件，在<a href="http://scala-ide.org/download/current.html" target="_blank" rel="external">这里</a>找到最新的插件版本   </p>
<p>eclipse-&gt;Help-&gt;Install New Software<br>在work with栏里输入路径：   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://download.scala-ide.org/sdk/lithium/e44/scala211/stable/site</div></pre></td></tr></table></figure>
<p>选择全部安装</p>
<p>安装完成后会自动弹出或者通过菜单栏进入scala-&gt;Run Setup Diagnostics，勾选Use recommended default settings 并将 eclipse.ini中heap size 设置为1280M（-Xmx1280M）。如果不设置会出现outof memory 的报错。   </p>
<p>这时已经可以运行scala的项目了。如果要运行spark项目还需要maven进行项目管理。   </p>
<h2 id="安装scala-maven管理插件-不必须"><a href="#安装scala-maven管理插件-不必须" class="headerlink" title="安装scala maven管理插件,不必须"></a>安装scala maven管理插件,不必须</h2><p>默认的maven插件是不包括m2eclipse-scala的，若果没有，在eclipse-&gt;Help-&gt;Install New Software下输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://alchim31.free.fr/m2e-scala/update-site/</div></pre></td></tr></table></figure>
<p>安装全部</p>
<h2 id="建立maven项目"><a href="#建立maven项目" class="headerlink" title="建立maven项目"></a>建立maven项目</h2><p>新建maven项目，在pom中配置：   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">     &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;</div><div class="line">     &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;</div><div class="line">     &lt;version&gt;1.5.2&lt;/version&gt;</div><div class="line">   &lt;/dependency&gt;</div><div class="line">   &lt;dependency&gt;</div><div class="line">     &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;</div><div class="line">     &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;</div><div class="line">     &lt;version&gt;2.6.0&lt;/version&gt;</div><div class="line">   &lt;/dependency&gt;</div></pre></td></tr></table></figure>
<p>注意由于要在EMR上运行程序，所以版本号选择与EMR上版本号一致。</p>
<p>右键项目-&gt;configure，选择引入scala环境，这时会看到编译错误<br>右键项目-&gt;properties-&gt;Scala Compiler-&gt;Use Project Settings-&gt;Fixe Scala Installation:2.10.6   </p>
<p>这时scala语言的spark全部搭建完成，在src下新建scala对象便可以写自己的程序了。这时可以把java改为scala了。    </p>
<p>视频资料：<a href="https://www.youtube.com/watch?v=aB4-RD_MMf0" target="_blank" rel="external">https://www.youtube.com/watch?v=aB4-RD_MMf0</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在eclipse上搭建使用Scala IDE 和 Maven 的 Spark 项目。&lt;br&gt;
    
    </summary>
    
      <category term="搏浪" scheme="http://ihozh.com/categories/%E6%90%8F%E6%B5%AA/"/>
    
    
      <category term="spark" scheme="http://ihozh.com/tags/spark/"/>
    
      <category term="scala" scheme="http://ihozh.com/tags/scala/"/>
    
  </entry>
  
  <entry>
    <title>方寸间的壮美河山（1）下</title>
    <link href="http://ihozh.com/2016/04/15/%E3%80%8A%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE%E3%80%8B%E6%96%B9%E5%AF%B8%E9%97%B4%E7%9A%84%E5%A3%AE%E7%BE%8E%E6%B2%B3%E5%B1%B1%EF%BC%881%EF%BC%89%E4%B8%8B/"/>
    <id>http://ihozh.com/2016/04/15/《一盒品邮》方寸间的壮美河山（1）下/</id>
    <published>2016-04-15T22:53:52.000Z</published>
    <updated>2016-04-16T03:08:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>作者： 一盒<br>微信： zyh_1991   </p>
<h3 id="1997-16-黄山"><a href="#1997-16-黄山" class="headerlink" title="1997-16 黄山"></a>1997-16 黄山</h3><p>继特57《黄山风光》发行34年后，1997年10月中国邮政又发行了《黄山》特种邮票，志号为1997-16。这套邮票一共八枚，由版画名家诗松龄先生设计，版别为套票小版张。套票小版张是</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;作者： 一盒&lt;br&gt;微信： zyh_1991   &lt;/p&gt;
&lt;h3 id=&quot;1997-16-黄山&quot;&gt;&lt;a href=&quot;#1997-16-黄山&quot; class=&quot;headerlink&quot; title=&quot;1997-16 黄山&quot;&gt;&lt;/a&gt;1997-16 黄山&lt;/h3&gt;&lt;p&gt;继特57《
    
    </summary>
    
      <category term="一盒品邮" scheme="http://ihozh.com/categories/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
    
      <category term="一盒品邮" scheme="http://ihozh.com/tags/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
  </entry>
  
  <entry>
    <title>《一盒品邮》方寸间的壮美河山（1）上</title>
    <link href="http://ihozh.com/2016/04/07/%E3%80%8A%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE%E3%80%8B%E6%96%B9%E5%AF%B8%E9%97%B4%E7%9A%84%E5%A3%AE%E7%BE%8E%E6%B2%B3%E5%B1%B1%EF%BC%881%EF%BC%89/"/>
    <id>http://ihozh.com/2016/04/07/《一盒品邮》方寸间的壮美河山（1）/</id>
    <published>2016-04-07T07:41:58.000Z</published>
    <updated>2016-04-16T04:25:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>作者: 一盒<br>微信: zyh_1991<br>自古神仙清修境，今有三山睥睨之。   </p>
<p>在新中国的邮票中，自然山川的主题无疑是一道最亮丽的风景。即使是在方寸中，仍然不失原景，要么大气磅礴，要么温婉灵动的神韵，再加以设计师的独特写意，使这些邮票至今散发着无尽的韵味。  </p>
<p>笔者在学生时代就已经将名山系列基本收集齐全。该系列除了部分主题入手难度较大，整体非常适合初级的集邮爱好者。     </p>
<a id="more"></a>   
<p>中国名山首推五岳，但在邮票世界，五岳的成就却远逊于三山，所以方寸之间当属三山。三山五岳是个成语，出于清人曹寅的《舟中望惠山举酒调培山》：“三山五岳渺何许？云烟汗漫空竛竮。”一句。其实已经泛指中国名山。但是还是有人愿意将其一一指定，就像五湖四海，也有好事之人一定要说出是哪五个湖，哪四片海。强迫症患者看来是古来就有了。而至现代，也不妨旅游景区给自己加一个噱头。   </p>
<p>中国有着很深厚的名山文化，这个文化是受到道教的影响。但凡烟波飘渺，云雾缭绕之处，便让人产生对“神”和“仙”的向往。在《史记卷二十八封禅书》和《史记秦始皇本纪中》都有过记载，“海中有三神山,名曰蓬莱、方丈、瀛洲”，山上有神仙居住，金屋银瓦，长生不老药。这是古时三山原型。那时五岳已经有所名气，五岳的方位也是相对中原而言。随着后来文化南迁, 可能是古人惊羡于南方山水之美，所以在南方又选了三座山代替了传说中的三座神山，也就逐渐形成了现在三山的的概念。</p>
<h2 id="黄山"><a href="#黄山" class="headerlink" title="黄山"></a>黄山</h2><p>黄山位于安徽省黄山市，明人徐霞客曾赞道：“登黄山，天下无山，观止矣”，后来便演化成耳熟能详的“五岳归来不看山，黄山归来不看岳”一说。<br>首先介绍的这套邮票在名山系列中，不论设计还是价值，都是前无古人后无来者，她是名山系列邮票的标杆之作，也是新中国邮票的标杆之作，我没有任何理由不先从她开始讲起。   </p>
<h3 id="特57-黄山风景-比黄山更美的邮票"><a href="#特57-黄山风景-比黄山更美的邮票" class="headerlink" title="特57 黄山风景 比黄山更美的邮票"></a>特57 黄山风景 比黄山更美的邮票</h3><p>特57黄山风景发行于1963年，由邮票设计泰斗－孙传哲设计。全套邮票16枚，选取了黄山16处绝胜景致。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E7%89%B957%20%E9%BB%84%E5%B1%B1%E9%A3%8E%E6%99%AF.jpg" alt=""><br>黄山邮票之绝一绝在于取景。孙老师在1962中国摄影学会举办的《黄山风景摄影展览》中，精选出16帧照片作为蓝本进行二次创作，集合百家之长。以最简之笔法，凝炼出黄山之精髓。山川再美，只不过数笔之间，此乃二绝。全套邮票使用影雕套印技术，得益于60年北京邮票厂的建立，先进技术的使用，雕刻处尽显苍遒，影写出峰峦隐绰，此乃三绝。有此三绝，才有人评论：“比黄山实景更美！”。<br>面对实景，已经无法用语言形容，描述邮票，更绝词穷。笔者也只用一些诗句或是聊聊数语做简介，而将欣赏的权利完全交给读者。<br>4分：   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E7%8E%89%E5%B1%8F%E5%B3%B0.jpg" alt=""><br>玉屏峰：因峰壁如玉雕屏障，清人汪土宏有诗赞曰：“玉屏峙霄汉，鸟道度松门。”  峰顶建有文殊院，人文景观丰富，徐霞客誉为“黄山绝胜处”。</p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E8%BF%8E%E5%AE%A2%E6%9D%BE.jpg" alt=""><br>迎客松：位于玉屏峰左侧，奇松乃黄山四绝之一，有“迎客”、“陪客”、“送客”三大名松。 前景松树雕刻细腻，背景简洁明亮。     </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E5%90%8E%E6%B5%B7%E6%9D%BE%E7%9F%B3.jpg" alt=""><br>后海松石：奇松怪石，皆为四绝。“百道飞泉鸣玉佩，千寻石柱架琼峦。”，由远及近，层次鲜明，中间所绘，似航海观音。     </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E6%B8%85%E5%87%89%E5%8F%B0.jpg" alt=""><br>清凉台： 为观黄山绝景云海的最佳处。玉屏楼观南海，清凉台望北海，排云亭看西海，白鹅岭赏东海，螯鱼峰眺天海。      </p>
<p>8分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E5%A4%A9%E9%83%BD%E8%BF%9C%E7%9C%BA.jpg" alt=""><br>天都远眺： 天都峰与莲花峰、光明顶并称为黄山三大主峰。乾隆御题“天都九百仞，巍然切太虚”。 天都以奇险闻名，古诗有赞：“任它五岳归来客，一见天都也叫奇”。邮票让人不由自主从近及远，远眺天都峰，明人罗洪先应该也是由于此景，发出“何年白日骑鸾鹤，踏碎天都峰上云”之感慨。   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E5%89%AA%E5%88%80%E5%B3%B0.jpg" alt=""><br>剪刀峰：“欲借剪刀峰下景，好裁一半与平分”， 票中景色取自黄昏，阳面如熊熊烈火，使人望而生畏。    </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E4%B8%87%E6%9D%BE%E6%9E%97.jpg" alt=""><br>万松林：李白诗句“昨夜谁为吴会吟，风生万壑振空林”应是由此景而发。群峦之间，松林摇曳，诗与画融为一体。    </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E6%A2%A6%E7%AC%94%E7%94%9F%E8%8A%B1.jpg" alt=""><br>梦笔生花：仙人的一支笔斗，画尽黄山绝胜。笔锋的遗墨，化作一棵苍松。正如清人项黻所赞：“天然一管生花笔，写遍奇峰入画图。”    </p>
<p>10分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E8%8E%B2%E8%8A%B1%E5%B3%B0.jpg" alt=""><br>莲花峰：黄山最高峰，李白赞曰“黄山四千仞，三十二莲峰。丹崔夹石柱，菡萏金芙蓉”。票面如雨后般清新，云雾缭绕，正是“真好造化”，“非人间也”。   </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E8%A5%BF%E6%B5%B7%E4%BA%91%E6%BD%AE.jpg" alt=""><br>西海云潮：西海奇秀，由四周山峰围成巨大空间，如入画境，奇哉幻哉。    </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E9%BB%84%E5%B1%B1%E5%8F%A4%E6%9D%BE.jpg" alt=""><br>黄山古松：描绘始信峰古松。始信峰，指古人到了这里才开始相信，黄山之奇。有言道：“不到始信峰，不知黄山松”     </p>
<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E4%B8%9C%E6%B5%B7%E8%A7%82%E6%BD%AE.jpg" alt=""><br>东海观潮：描绘黄山云海日出，蕴红色调。 海到尽头天是岸，山登绝顶我为峰。   </p>
<p>20分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E7%9F%B3%E7%AC%8B%E5%B3%B0.jpg" alt=""><br>石笋峰：黄山的石笋与雁荡的龙湫、匡庐的瀑布并称天下三奇。此处应有仙人下棋等景点，可邮票中并不明显。    </p>
<p>22分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E7%9F%B3%E7%8C%B4%E8%A7%82%E6%B5%B7.jpg" alt=""><br>石猴观海：一巧石，静观潮起潮落。坐看人间兴废事，几经沧海变桑田。      </p>
<p>30分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E7%8B%AE%E5%AD%90%E6%9E%97.jpg" alt=""><br>狮子林：清晨薄暮，熟睡的雄狮还未醒来，轻轻的，请不要吵醒它。      </p>
<p>50分：<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E8%93%AC%E8%8E%B1%E4%B8%89%E5%B2%9B.jpg" alt=""><br>蓬莱三岛：每到云海弥漫，三座山峰山尖微露，犹如海上仙岛。    </p>
<p>设计者孙传哲一生情系黄山，在去世后留下未完成遗作《黄山图》，遗书中也要求将骨灰撒在黄山。</p>
<p>黄山风景凭借出色的设计，荣获建国三十周年最佳邮票奖。其价格在2013年也一度创下1万5000元记录。现在市场价依然在1万元附近，足见其珍贵。全套票以30分狮子林和50分蓬莱仙岛为精票，因其发行量稀少为100万枚。 集邮爱好者可以像笔者一样，即使入手盖销或者信销，仍然会满足感十足。     </p>
<h3 id="1997-16-黄山"><a href="#1997-16-黄山" class="headerlink" title="1997-16 黄山"></a>1997-16 黄山</h3><p>继特57《黄山风光》发行34年后，1997年10月中国邮政又发行了《黄山》特种邮票，志号为1997-16。这套邮票一共八枚，由版画名家诗松龄先生设计，连印成套票小版张。套票小版张是指将整套邮票在一版上呈现出来。由于特57占尽天时地利，在邮市的口碑高居不下，这套小版张在还未发行时就一直被人瞩目，能否在设计上超越前者一直是热门话题。这也是我国第一套套票小版。<br>同一题材的二次发行还有一个原因就是给99年的世界集邮展览筹款，所以我们可以注意到这八枚邮票的面值都为200分，高于当时的平信邮资80分。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;作者: 一盒&lt;br&gt;微信: zyh_1991&lt;br&gt;自古神仙清修境，今有三山睥睨之。   &lt;/p&gt;
&lt;p&gt;在新中国的邮票中，自然山川的主题无疑是一道最亮丽的风景。即使是在方寸中，仍然不失原景，要么大气磅礴，要么温婉灵动的神韵，再加以设计师的独特写意，使这些邮票至今散发着无尽的韵味。  &lt;/p&gt;
&lt;p&gt;笔者在学生时代就已经将名山系列基本收集齐全。该系列除了部分主题入手难度较大，整体非常适合初级的集邮爱好者。     &lt;/p&gt;
    
    </summary>
    
      <category term="一盒品邮" scheme="http://ihozh.com/categories/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
    
      <category term="一盒品邮" scheme="http://ihozh.com/tags/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
  </entry>
  
  <entry>
    <title>hexo安装第三方插件</title>
    <link href="http://ihozh.com/2016/04/05/hexo%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8F%92%E4%BB%B6/"/>
    <id>http://ihozh.com/2016/04/05/hexo安装第三方插件/</id>
    <published>2016-04-06T02:34:39.000Z</published>
    <updated>2016-04-06T04:13:11.000Z</updated>
    
    <content type="html"><![CDATA[<p>hexo 支持丰富的第三方插件，可以满足用户大部分的需求。   </p>
<h2 id="统计分析"><a href="#统计分析" class="headerlink" title="统计分析"></a>统计分析</h2><h3 id="百度统计"><a href="#百度统计" class="headerlink" title="百度统计"></a>百度统计</h3><p>百度统计是一款免费的站点分析工具，可以统计站点的访问量，用户行为等。<br><a id="more"></a><br>1.登陆<a href="http://tongji.baidu.com/web/welcome/login" target="_blank" rel="external">百度统计</a>，需要注册。<br>2.选择<strong>百度统计-网站统计</strong>。<br>3.在<strong>网站中心</strong>选择<strong>新增网站</strong>，输入自己的网站域名。<br>4.在代码获取页面，复制 <code>hm.js?</code> 后面统计脚本id，如图红线部分<br> <img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_zaihuopu_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7_%E7%99%BE%E5%BA%A6%E7%AB%99%E7%82%B9.png" alt=""><br>5.进入站点配置文件，主题下的<code>_config.yml</code><br>    新加入   </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">baidu_analytics: &lt;复制的内容&gt;</div></pre></td></tr></table></figure>
</code></pre><p>6.发布<code>hexo g -d</code><br>7.在百度站点下，选择<code>首页代码状态</code>，如果显示<code>代码安装正确</code>就Ok啦      </p>
<h3 id="LeanCloud"><a href="#LeanCloud" class="headerlink" title="LeanCloud"></a>LeanCloud</h3><p>leanCloud是一款在线统计工具，可以统计每篇文章的阅读数量，已被hexo/next集成。<br>1.登陆<a href="https://leancloud.cn/" target="_blank" rel="external">leancloud</a>,注册。<br>2.创建新应用。<br>3.在<code>储存</code>目录下，新建一个名为<code>Counter</code>的class<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_zaihuopu_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7_leancloud1.png" alt=""><br>4.在<code>设置</code>目录下，选择’Key’,可以找到<code>App ID</code>和<code>App Key</code><br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_zaihuopu_%E7%AC%AC%E4%B8%89%E6%96%B9%E5%B7%A5%E5%85%B7_leancloud3.png" alt=""><br>5.进入站点配置文件，主题下的<code>_config.yml</code><br>    新加入   </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">leancloud_visitors:</div><div class="line">enable: true</div><div class="line">app_id: &lt;your_app_id&gt;</div><div class="line">app_key: &lt;your_app_key&gt;</div></pre></td></tr></table></figure>
</code></pre><p>6.发布<code>hexo g -d</code><br>7.现在可以在<code>储存</code>-&gt;<code>Counter</code>下查看点击统计了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;hexo 支持丰富的第三方插件，可以满足用户大部分的需求。   &lt;/p&gt;
&lt;h2 id=&quot;统计分析&quot;&gt;&lt;a href=&quot;#统计分析&quot; class=&quot;headerlink&quot; title=&quot;统计分析&quot;&gt;&lt;/a&gt;统计分析&lt;/h2&gt;&lt;h3 id=&quot;百度统计&quot;&gt;&lt;a href=&quot;#百度统计&quot; class=&quot;headerlink&quot; title=&quot;百度统计&quot;&gt;&lt;/a&gt;百度统计&lt;/h3&gt;&lt;p&gt;百度统计是一款免费的站点分析工具，可以统计站点的访问量，用户行为等。&lt;br&gt;
    
    </summary>
    
      <category term="杂货铺" scheme="http://ihozh.com/categories/%E6%9D%82%E8%B4%A7%E9%93%BA/"/>
    
    
      <category term="hexo" scheme="http://ihozh.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>《一盒品邮》邮票上的中国古代名画－清明上河图</title>
    <link href="http://ihozh.com/2016/04/01/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE%E9%82%AE%E7%A5%A8%E4%B8%8A%E7%9A%84%E4%B8%AD%E5%9B%BD%E5%8F%A4%E4%BB%A3%E5%90%8D%E7%94%BB%EF%BC%8D%E6%B8%85%E6%98%8E%E4%B8%8A%E6%B2%B3%E5%9B%BE/"/>
    <id>http://ihozh.com/2016/04/01/一盒品邮邮票上的中国古代名画－清明上河图/</id>
    <published>2016-04-01T15:41:15.000Z</published>
    <updated>2016-04-01T20:55:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>作者：一盒<br>虹桥影落繁华尽，梦回汴京认归帆。</p>
<p>2013，我去台湾交换。心泽找我，说想入门下邮票的收藏和投资。<br>我是一个业余的集邮爱好者。之前还从来不知道台湾票长什么样。正好逮到这个机会，因为一直玩老票，稳扎稳打，没怎么栽过跟头，再加上认票的直觉，也就答应着去帮他做一笔。<br>那时我们校区在桃园，邮市最好最大的当然是台北的牯岭街。去邮市，要赶个大早，先坐校车到桃园火车站，再搭最近一班的捷运叮叮哐哐的晃向台北。这样一条路竟然让我现在无比怀念。</p>
<a id="more"></a>   
<p>单独把清明上河图拿出来写一篇文章，一个是因为两岸都曾以清明上河图为主题发行过邮票，但是因为不同的背景而际遇大相径庭。另一个就是我想尝试在黄沙之中，挑挑拣拣，将一些被利益的淤泥埋没的真金洗捡出来。让更多的人能认识这些珍品。<br>讲了这么多废话，先上图一睹为快吧<br>下图是台湾1968年专53 清明上河图(第一组7枚)<br>低面值5张联票<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E4%B8%9353_3.jpg" alt=""><br>高面值2张<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E4%B8%9353_4.jpg" alt=""><br>该套邮票设计原型是清院本清明上河图，现存于台北故宫博物院中。可能有些朋友不知道，原来清明上河图也有这么多的版本。清明上河图是北宋流行的一种绘画题材，其中以张择端所绘最为出名，受到历代喜爱。所以仿本各朝都有出现。清院本的清明上河图是在清乾隆元年，由陈枚、孙祜、金昆、戴洪、程志道五位宫廷画家合作而成。他们集合各家所长，又将明清时期特有的娱乐表演，踏青等风俗加入，画面内容更加丰富，成为自张后最为出名一幅。<br>这个时期的明清画，正是我想强调的，由于受到西洋画风影响，色彩明亮，物做细腻严谨。这种风格与现代的邮票设计擦却微妙的火花。以大陆邮票而言，仅凭笔者个人喜爱程度，新中国邮票设计的巅峰时期出现在老纪特后期，经历文革，编号，到新JT的74-82时期。这三十年的邮票设计极为精美，这段时期的邮票也被广大集邮爱好者喜爱，市场价就足以说明一切问题。<br>68年正处于大陆文革票的后期，由于文革时期本身特殊的政治意义，邮票设计特点鲜明，我们抛开不谈。回过头再看看台湾发行的清明上河图，其设计与配色非常接近大陆老纪特后期的邮票风格。色彩鲜而不艳，画面丰而不繁，配色总给人那种恰到好处的感觉。在六七是年代，印刷技术配色的局限反而给我们最舒服的视觉享受。反而在现代发达的印刷术下，大块使用对比鲜明的靓丽色块，再加上计算机辅助的图形设计，使得邮票总是缺乏那么些美感，欠了几分灵动的火候。<br>68年发行的这套邮票，是台湾第一套连票形式印刷的古画邮票，票种为影写版印刷。其中五张连票面值均为1元，画面取原作的连续一部分，金明池春景。这一部分是张本中没有的，第一二枚主要景色是宝津楼，临水殿，骆驼虹和水心殿，“天阔云高，溪横水远，晚日寒生轻晕“，气势磅礴。后三枚逐渐将景色过度到热闹的街市。还有两张则选择了画面中最为经典的两个场景，城门（面值5元）和虹桥（面值8元）。</p>
<p>下图是台湾1969年专58 清明上河图(第二组5枚)<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_stamp_%E4%B8%9358_1.jpg" alt=""><br>清院本清明上河图画中人物超过4000人，反应很多明清时期的社会风俗。所以在69年，台局又发行了清明上河图第二组邮票。这五张邮票是原画中的五个局部特写。其中两枚为连票面值均为1元，取景迎亲图，还有迁居（面值2.5元），画廊（面值5元）和露店（面值8元）.每一枚邮票都可以看见栩栩如生的原画人物。还可以看到当时人们使用的穿着，使用的工具，居住条件等。由此我们可以推测出当时的社会风气非常开放，康乾盛事可见一斑。   </p>
<p>2004年大陆发行特种邮票 2004-26T《清明上河图》（9枚 套票连印）<br><img src="http://www.chinesestamp.cn/wp-content/uploads/2014/06/2004-26.jpg" alt=""><br>此邮票原本为张择端本清明上河图,图案取景为其全景，此本现藏于北京故宫博物馆中。前七枚80分，第八枚1元，第九枚2元。胶雕套印，印刷技术细腻程度为现代邮票罕有。所以在短短几年，身价暴涨十倍一度到百元之上。后来中国邮政又在2010世博会推出5米长的丝绢邮票，与原作等比例制作，是目前世界上最大的邮票。<br>当然这个对我来说过于奢华，我甚至没有机会亲眼目睹。现代科技对邮票的印制工艺发挥的淋漓尽致，邮票品种甚至五花八门，再加上新票人为炒作严重，我自己不敢轻易介入。有时候也只能从朋友口中感受下那种潮起潮落的激迫之感。<br>就从艺术价值而言，两套清明上河图都是佳品，各有所长。尤其台湾版笔者推为珍品，下表做些对比给读者直观的感受。 </p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">版本</th>
<th style="text-align:left">发型年</th>
<th style="text-align:left">版别</th>
<th style="text-align:left">枚数</th>
<th style="text-align:left">发行量</th>
<th style="text-align:left">价格(中邮)¥</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">台湾</td>
<td style="text-align:left">1968</td>
<td style="text-align:left">影写</td>
<td style="text-align:left">12</td>
<td style="text-align:left">45万</td>
<td style="text-align:left">650</td>
</tr>
<tr>
<td style="text-align:left">大陆</td>
<td style="text-align:left">2004</td>
<td style="text-align:left">胶雕</td>
<td style="text-align:left">9</td>
<td style="text-align:left">1080万</td>
<td style="text-align:left">90</td>
</tr>
</tbody>
</table>
</div>
<p>2013年，台版清明上河图是我推荐的邮票之一，当时的价钱在200人民币上下。作为学生资金有限，也不敢搏命。即使现在，这个价位在笔者看来仍然偏低。各位集邮爱好者如有兴趣，现在入手不失为合适时机。</p>
<p>笔者注：在网上所查资料中，包括百度百科在内，很多资料将两幅清明上河图混为一谈，实属不该。对于清明踏青扫墓的习俗民间相传始于朱元璋时期。其实早在唐朝，扫墓开始流行，唐玄宗下令“寒食上墓”，那时的扫墓是在寒食。至于踏青一说，应该只存在于清院本中。<br>资料整理：<br>清明上河图张择端本高清图： <a href="http://news.sohu.com/s2015/qmsht/index.shtml?_t=t" target="_blank" rel="external">点击这里</a><br>清明上河图清院本高清图：<a href="http://www.npm.gov.tw/exh96/orientation/flash_4/index.html" target="_blank" rel="external">点击这里</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;作者：一盒&lt;br&gt;虹桥影落繁华尽，梦回汴京认归帆。&lt;/p&gt;
&lt;p&gt;2013，我去台湾交换。心泽找我，说想入门下邮票的收藏和投资。&lt;br&gt;我是一个业余的集邮爱好者。之前还从来不知道台湾票长什么样。正好逮到这个机会，因为一直玩老票，稳扎稳打，没怎么栽过跟头，再加上认票的直觉，也就答应着去帮他做一笔。&lt;br&gt;那时我们校区在桃园，邮市最好最大的当然是台北的牯岭街。去邮市，要赶个大早，先坐校车到桃园火车站，再搭最近一班的捷运叮叮哐哐的晃向台北。这样一条路竟然让我现在无比怀念。&lt;/p&gt;
    
    </summary>
    
      <category term="一盒品邮" scheme="http://ihozh.com/categories/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
    
      <category term="一盒品邮" scheme="http://ihozh.com/tags/%E4%B8%80%E7%9B%92%E5%93%81%E9%82%AE/"/>
    
  </entry>
  
  <entry>
    <title>CC的学习经验</title>
    <link href="http://ihozh.com/2016/03/18/CC%E5%AD%A6%E4%B9%A0%E7%9A%84%E7%BB%8F%E9%AA%8C/"/>
    <id>http://ihozh.com/2016/03/18/CC学习的经验/</id>
    <published>2016-03-19T01:20:46.000Z</published>
    <updated>2017-05-01T06:59:10.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CC的半学期学习总结"><a href="#CC的半学期学习总结" class="headerlink" title="CC的半学期学习总结"></a>CC的半学期学习总结</h1><p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_1_cloudcomputing.jpg" alt=""><br><a id="more"></a><br>感谢王达师兄，让我在学习他的同时感觉到点滴进步。<br>学期过了一半，Cloud Computing 的project也已过半。<br>20号凌晨5点，随着强一致和终端一致的两个测试的通过，意味着可以享受一下周末的惬意了。白天的时间去冲了下奖励，拿到两分后也是黔驴技穷，还是腾出点时间写写总结，分享分享学习经验。通常自己一个星期挣扎出的作业，见识过第一天就能荣登榜首的神牛。也不用提在第二周作业就被EMR活活逼哭的黑历史。说是分享，也请各位大神高抬贵手。<br>我是如何学习这门课的，有什么感悟。这里不会过多去纠结课程本身内容，而是分享下我自身的学习经历。</p>
<h2 id="实验指导是否理解透彻"><a href="#实验指导是否理解透彻" class="headerlink" title="实验指导是否理解透彻"></a>实验指导是否理解透彻</h2><p>实验指导是指在每次做项目前，官方发布的说明文档。它包括   </p>
<ul>
<li>项目简介   </li>
<li>知识点讲解   </li>
<li>平台要求   </li>
<li>任务步骤和目标   </li>
<li>惩罚，奖励，提示   </li>
</ul>
<p>对指导的理解程度会极大的影响每次作业的速度和质量。<br>刚开学时，每次CC的作业在读完指导后就直接开始，这样虽然可以很快的进入工作，有两个缺点。   </p>
<ol>
<li>写程序bug百出   </li>
<li>完成后很快忘记   </li>
</ol>
<p>如果bug如果不是代码的生疏，便是自己没有理解。 </p>
<h3 id="做一项最愚蠢的工作"><a href="#做一项最愚蠢的工作" class="headerlink" title="做一项最愚蠢的工作"></a>做一项最愚蠢的工作</h3><p>开始试着重新排版指导说明，对重点部分进行加粗和注释，通过这种方法，加强对指导的梳理和理解。问题来了，这样每次的作业都有一多半的时间在处理这项任务。这是一项很蠢的工作，直到突然看到师兄在博客中翻译上课内容，才恍然一笑，原来还有一样蠢的人。但是师兄，很快！后来的实验开始，我尝试着去翻译这些指导。刚开始极其痛苦，汉语翻译是要比英文注释还要慢的一项工作，有几周差点没有完成作业。但坚信的是，学习方法是比内容更重要的，既然你觉得是对的，那就做下去。</p>
<h3 id="你会越来越快"><a href="#你会越来越快" class="headerlink" title="你会越来越快"></a>你会越来越快</h3><p>翻译的工作实际上是，在理解原文的情况下做出总结，这是一个双倍的学习工程。翻译的难点在于：   </p>
<ol>
<li>准确把握原文   </li>
<li>翻译通顺   </li>
<li>专业词汇的使用   </li>
</ol>
<p>奇迹也会来的很突然。在翻译工作进行了一个月左右的时候，可以很明显感觉到翻译速度的提升，伴随对指导的理解深入，作业会完成的越来越顺利。以这一周为例，个人项目花费两天时间翻译理解指导，复习涉及到的知识和自己查找的一些资料，笔记字数1万字左右。作业程序花费1天通过了12个测试的11个，半天时间冲奖励和补漏。<br><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_1_CC%E5%AD%A6%E4%B9%A0%E5%8D%8A%E5%AD%A6%E6%9C%9F.png" alt=""></p>
<h3 id="深入理解是一种技能"><a href="#深入理解是一种技能" class="headerlink" title="深入理解是一种技能"></a>深入理解是一种技能</h3><p>深入理解是翻译这项愚蠢工作的副产品，也是主要目的。<br>举个例子来说，在最近的一次作业，要求实现一个终端一致的服务器，只有一个要求：（原文）with only one requirement- the newly received write operation must have a greater timestamp than the write operation that updated the currently stored value. 就这一个要求挡住了不少同学满分的道路。这里我理解的至关重要的一个词就是<strong>write</strong>而不是<strong>new</strong>。只有在连续写请求的条件下，终端一致有效。如遇读请求，复位。这并不是官方提供模版的标准写法，我甚至没有补全其他的相关联函数，因为这样的理解已经实现了终端一致的要求，足够通过所有的测试了。</p>
<h2 id="自立更生与舶来主义"><a href="#自立更生与舶来主义" class="headerlink" title="自立更生与舶来主义"></a>自立更生与舶来主义</h2><p>没有对错之分。一定要给自己足够的思考空间！一定要给自己足够的思考空间！一定要给自己足够的思考空间。我总结这三句，是因为前半学期的作业中，依赖他人思想过多。自己思考和交流讨论都是学习的基本方式。我自己总结了一个请教他人最佳的时间点：在对方不对你感到厌烦的同时，因为帮助你解决了问题而能极大满足自己虚荣心的那个时间就是最佳请教时间。嘿嘿，只是道理是这样讲的。</p>
<h2 id="坚持"><a href="#坚持" class="headerlink" title="坚持"></a>坚持</h2><p>看个标题就能懂了。也没有什么过多的内容，亘古不变的真理。对学习的坚持，不要轻言放弃；对学习习惯的坚持，习惯会提高能力。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;CC的半学期学习总结&quot;&gt;&lt;a href=&quot;#CC的半学期学习总结&quot; class=&quot;headerlink&quot; title=&quot;CC的半学期学习总结&quot;&gt;&lt;/a&gt;CC的半学期学习总结&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_1_cloudcomputing.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="搏浪" scheme="http://ihozh.com/categories/%E6%90%8F%E6%B5%AA/"/>
    
    
      <category term="总结" scheme="http://ihozh.com/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>hexo 博客搭建</title>
    <link href="http://ihozh.com/2016/03/16/hexo-%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <id>http://ihozh.com/2016/03/16/hexo-博客搭建/</id>
    <published>2016-03-17T02:05:21.000Z</published>
    <updated>2016-03-17T16:08:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_1_github%2Bhexo.png-ihogithubfirst" alt=""><br><a id="more"></a></p>
<h2 id="第一个标题"><a href="#第一个标题" class="headerlink" title="第一个标题"></a>第一个标题</h2><p>心血来潮，在github上自己搭了个博客，写第一篇留个纪念吧。<br>初探hexo，还有很多地方不懂，这篇博客也会持续更新探索hexo发现的好玩的事物。<br>关于如何在github上搭建静态博客，网上的教程已经非常多了，大多很清晰，详细请看<a href="http://www.jianshu.com/p/05289a4bc8b2" target="_blank" rel="external">如何搭建一个独立博客</a>。<br>两个关键要素： github 和 域名</p>
<h2 id="第二个标题"><a href="#第二个标题" class="headerlink" title="第二个标题"></a>第二个标题</h2><p>虽然看了教程，但还是在一些地方花了不少时间。例如，在 <code>_config.yml</code>中，要填入值的<code>:</code>后边一定要留一个空格，不然是不会产生效果的。</p>
<h3 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h3><p>我使用了DNSPod做域名解析。不论自动还是手动，要确保添加了主机纪录为<code>www</code>和<code>@</code>，记录类型为CNAME，记录值为<code>xxxx.github.io</code>的解析记录。这里解释下所谓的主机纪录就是域名前缀，常见的有<code>www</code>(万维网：www.xxx.com),<code>@</code>(直接解析：xxx.com),<code>*</code>(泛解析：*.xxx.com)   </p>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><p><strong>创建新的文章</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo new &quot;My New Post&quot;</div><div class="line">hexo n</div></pre></td></tr></table></figure></p>
<p><strong>创建新页面</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page img</div></pre></td></tr></table></figure></p>
<p>前一条会在<code>/source/_posts</code>下生成一个新的｀.md｀文件，后一条会在<code>/source/</code>下生成新的文件夹</p>
<p><strong>生成静态文件</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo generate</div><div class="line">hexo g</div></pre></td></tr></table></figure></p>
<p><strong>本地服务器测试</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo server</div><div class="line">hexo s</div></pre></td></tr></table></figure></p>
<p><strong>部署github</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo deploy</div><div class="line">hexo d</div></pre></td></tr></table></figure></p>
<p>如果部署Github时没有任何反应，需要安装<a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">hexo-deployer-git</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure></p>
<h3 id="Hexo配置"><a href="#Hexo配置" class="headerlink" title="Hexo配置"></a>Hexo配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">language: zh-Hans #简体汉字</div><div class="line"></div><div class="line"># depolyment</div><div class="line">deploy:</div><div class="line">	type: git</div><div class="line">	repo:&lt;ssh of github&gt;</div></pre></td></tr></table></figure>
<h2 id="NEXT主题"><a href="#NEXT主题" class="headerlink" title="NEXT主题"></a>NEXT主题</h2><p>看到在知乎中主题排名第一，我就拿来用了，提供很多的有趣的内容，还在探索中。  </p>
<h3 id="增加菜单栏"><a href="#增加菜单栏" class="headerlink" title="增加菜单栏"></a>增加菜单栏</h3><p>例如增加学习菜单：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">	学习: /categories/学习/  #菜单的URL，绝对路径，在source下</div></pre></td></tr></table></figure>
<p>如果要保证名字正常显示，进入｀‘主题路径’/language/zh-Hans.yml｀</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">menu:</div><div class="line">	学习: 学习  # 学习菜单显示为“学习”</div></pre></td></tr></table></figure>
<h3 id="添加侧边栏头像"><a href="#添加侧边栏头像" class="headerlink" title="添加侧边栏头像"></a>添加侧边栏头像</h3><p>将头像命名为<code>default_avatar.jpg</code> 放入<code>‘主题路径’/source/images</code>下，可以看到侧边栏头像更改</p>
<h3 id="添加logo"><a href="#添加logo" class="headerlink" title="添加logo"></a>添加logo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">custom_logs:</div><div class="line">	enabled: true</div><div class="line">	image:&lt;image url&gt;  #logo的绝对路径</div></pre></td></tr></table></figure>
<h3 id="添加tag页"><a href="#添加tag页" class="headerlink" title="添加tag页"></a>添加tag页</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page &quot;tags&quot;</div></pre></td></tr></table></figure>
<p>在生成的 <code>source/tags/index.md</code> 添加   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">type: &quot;tags&quot;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://7xrzpr.com1.z0.glb.clouddn.com/ihozh_1_github%2Bhexo.png-ihogithubfirst&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="杂货铺" scheme="http://ihozh.com/categories/%E6%9D%82%E8%B4%A7%E9%93%BA/"/>
    
    
      <category term="hexo" scheme="http://ihozh.com/tags/hexo/"/>
    
  </entry>
  
</feed>
